!function r(i,o,a){function s(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return s(i[t][1][e]||e)},n,n.exports,r,i,o,a)}return o[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";function r(e,t,n){var r=o(e=e instanceof RegExp?i(e,n):e,t=t instanceof RegExp?i(t,n):t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){e=t.match(e);return e?e[0]:null}function o(e,t,n){let r,i,o,a,s,l=n.indexOf(e),c=n.indexOf(t,l+1),u=l;if(0<=l&&0<c){if(e===t)return[l,c];for(r=[],o=n.length;0<=u&&!s;)u===l?(r.push(u),l=n.indexOf(e,u+1)):1===r.length?s=[r.pop(),c]:((i=r.pop())<o&&(o=i,a=c),c=n.indexOf(t,u+1)),u=l<c&&0<=l?l:c;r.length&&(s=[o,a])}return s}(t.exports=r).range=o},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){"use strict";var r=e("./lib/loader"),i=e("./lib/dumper");function o(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}t.exports.Type=e("./lib/type"),t.exports.Schema=e("./lib/schema"),t.exports.FAILSAFE_SCHEMA=e("./lib/schema/failsafe"),t.exports.JSON_SCHEMA=e("./lib/schema/json"),t.exports.CORE_SCHEMA=e("./lib/schema/core"),t.exports.DEFAULT_SCHEMA=e("./lib/schema/default"),t.exports.load=r.load,t.exports.loadAll=r.loadAll,t.exports.dump=i.dump,t.exports.YAMLException=e("./lib/exception"),t.exports.types={binary:e("./lib/type/binary"),float:e("./lib/type/float"),map:e("./lib/type/map"),null:e("./lib/type/null"),pairs:e("./lib/type/pairs"),set:e("./lib/type/set"),timestamp:e("./lib/type/timestamp"),bool:e("./lib/type/bool"),int:e("./lib/type/int"),merge:e("./lib/type/merge"),omap:e("./lib/type/omap"),seq:e("./lib/type/seq"),str:e("./lib/type/str")},t.exports.safeLoad=o("safeLoad","load"),t.exports.safeLoadAll=o("safeLoadAll","loadAll"),t.exports.safeDump=o("safeDump","dump")},{"./lib/dumper":5,"./lib/exception":6,"./lib/loader":7,"./lib/schema":8,"./lib/schema/core":9,"./lib/schema/default":10,"./lib/schema/failsafe":11,"./lib/schema/json":12,"./lib/type":14,"./lib/type/binary":15,"./lib/type/bool":16,"./lib/type/float":17,"./lib/type/int":18,"./lib/type/map":19,"./lib/type/merge":20,"./lib/type/null":21,"./lib/type/omap":22,"./lib/type/pairs":23,"./lib/type/seq":24,"./lib/type/set":25,"./lib/type/str":26,"./lib/type/timestamp":27}],4:[function(e,t,n){"use strict";function r(e){return null==e}t.exports.isNothing=r,t.exports.isObject=function(e){return"object"==typeof e&&null!==e},t.exports.toArray=function(e){return Array.isArray(e)?e:r(e)?[]:[e]},t.exports.repeat=function(e,t){for(var n="",r=0;r<t;r+=1)n+=e;return n},t.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},t.exports.extend=function(e,t){var n,r,i,o;if(t)for(n=0,r=(o=Object.keys(t)).length;n<r;n+=1)e[i=o[n]]=t[i];return e}},{}],5:[function(e,t,n){"use strict";var c=e("./common"),d=e("./exception"),r=e("./schema/default"),f=Object.prototype.toString,u=Object.prototype.hasOwnProperty,E=65279,v=10,p={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},h=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],g=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;var i=1,b=2;function o(e){this.schema=e.schema||r,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=c.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,i,o,a,s,l;if(null===t)return{};for(n={},i=0,o=(r=Object.keys(t)).length;i<o;i+=1)a=r[i],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(l=e.compiledTypeMap.fallback[a])&&u.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[a]=s;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?b:i,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function m(e,t){for(var n,r,i=c.repeat(" ",t),o=0,a="",s=e.length;o<s;)o=-1===(n=e.indexOf("\n",o))?(r=e.slice(o),s):(r=e.slice(o,n+1),n+1),r.length&&"\n"!==r&&(a+=i),a+=r;return a}function y(e,t){return"\n"+c.repeat(" ",e.indent*t)}function N(e){return 32===e||9===e}function T(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==E||65536<=e&&e<=1114111}function a(e){return T(e)&&e!==E&&13!==e&&e!==v}function I(e,t,n){var r=a(e),i=r&&!N(e);return(n?r:r&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||a(t)&&!N(t)&&35===e||58===t&&i}function A(e,t){var n,r=e.charCodeAt(t);return 55296<=r&&r<=56319&&t+1<e.length&&56320<=(n=e.charCodeAt(t+1))&&n<=57343?1024*(r-55296)+n-56320+65536:r}function S(e){return/^\n* /.test(e)}var C=1,O=2,M=3,x=4,w=5;function R(e,t,n,r,i,o,a,s){var l,c,u=0,p=null,d=!1,f=!1,h=-1!==r,g=-1,m=T(c=A(e,0))&&c!==E&&!N(c)&&45!==c&&63!==c&&58!==c&&44!==c&&91!==c&&93!==c&&123!==c&&125!==c&&35!==c&&38!==c&&42!==c&&33!==c&&124!==c&&61!==c&&62!==c&&39!==c&&34!==c&&37!==c&&64!==c&&96!==c&&(!N(c=A(e,e.length-1))&&58!==c);if(t||a)for(l=0;l<e.length;65536<=u?l+=2:l++){if(!T(u=A(e,l)))return w;m=m&&I(u,p,s),p=u}else{for(l=0;l<e.length;65536<=u?l+=2:l++){if((u=A(e,l))===v)d=!0,h&&(f=f||r<l-g-1&&" "!==e[g+1],g=l);else if(!T(u))return w;m=m&&I(u,p,s),p=u}f=f||h&&r<l-g-1&&" "!==e[g+1]}return d||f?9<n&&S(e)?w:a?o===b?w:O:f?x:M:!m||a||i(e)?o===b?w:O:C}function k(i,o,a,s,l){i.dump=function(){if(0===o.length)return i.quotingType===b?'""':"''";if(!i.noCompatMode&&(-1!==h.indexOf(o)||g.test(o)))return i.quotingType===b?'"'+o+'"':"'"+o+"'";var e=i.indent*Math.max(1,a),t=-1===i.lineWidth?-1:Math.max(Math.min(i.lineWidth,40),i.lineWidth-e),n=s||-1<i.flowLevel&&a>=i.flowLevel;function r(e){return function(e,t){for(var n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(i,e)}switch(R(o,n,i.indent,t,r,i.quotingType,i.forceQuotes&&!s,l)){case C:return o;case O:return"'"+o.replace(/'/g,"''")+"'";case M:return"|"+_(o,i.indent)+P(m(o,e));case x:return">"+_(o,i.indent)+P(m(function(t,n){var e,r=/(\n+)([^\n]*)/g,i=function(){var e=-1!==(e=t.indexOf("\n"))?e:t.length;return r.lastIndex=e,L(t.slice(0,e),n)}(),o="\n"===t[0]||" "===t[0];for(;e=r.exec(t);){var a=e[1],s=e[2];e=" "===s[0],i+=a+(o||e||""===s?"":"\n")+L(s,n),o=e}return i}(o,t),e));case w:return'"'+function(e){for(var t,n="",r=0,i=0;i<e.length;65536<=r?i+=2:i++)r=A(e,i),!(t=p[r])&&T(r)?(n+=e[i],65536<=r&&(n+=e[i+1])):n+=t||function(e){var t,n,r=e.toString(16).toUpperCase();if(e<=255)t="x",n=2;else if(e<=65535)t="u",n=4;else{if(!(e<=4294967295))throw new d("code point within a string may not be greater than 0xFFFFFFFF");t="U",n=8}return"\\"+t+c.repeat("0",n-r.length)+r}(r);return n}(o)+'"';default:throw new d("impossible error: invalid scalar style")}}()}function _(e,t){var n=S(e)?String(t):"",t="\n"===e[e.length-1];return n+(t&&("\n"===e[e.length-2]||"\n"===e)?"+":t?"":"-")+"\n"}function P(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function L(e,t){if(""===e||" "===e[0])return e;for(var n,r,i=/ [^ ]/g,o=0,a=0,s="";n=i.exec(e);)t<(r=n.index)-o&&(s+="\n"+e.slice(o,n=o<a?a:r),o=n+1),a=r;return s+="\n",e.length-o>t&&o<a?s+=e.slice(o,a)+"\n"+e.slice(a+1):s+=e.slice(o),s.slice(1)}function $(e,t,n,r){for(var i,o="",a=e.tag,s=0,l=n.length;s<l;s+=1)i=n[s],e.replacer&&(i=e.replacer.call(n,String(s),i)),(F(e,t+1,i,!0,!0,!1,!0)||void 0===i&&F(e,t+1,null,!0,!0,!1,!0))&&(r&&""===o||(o+=y(e,t)),e.dump&&v===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=a,e.dump=o||"[]"}function j(e,t,n){for(var r,i,o,a=n?e.explicitTypes:e.implicitTypes,s=0,l=a.length;s<l;s+=1)if(((i=a[s]).instanceOf||i.predicate)&&(!i.instanceOf||"object"==typeof t&&t instanceof i.instanceOf)&&(!i.predicate||i.predicate(t))){if(n?i.multi&&i.representName?e.tag=i.representName(t):e.tag=i.tag:e.tag="?",i.represent){if(o=e.styleMap[i.tag]||i.defaultStyle,"[object Function]"===f.call(i.represent))r=i.represent(t,o);else{if(!u.call(i.represent,o))throw new d("!<"+i.tag+'> tag resolver accepts not "'+o+'" style');r=i.represent[o](t,o)}e.dump=r}return 1}}function F(e,t,n,r,i,o,a){e.tag=null,e.dump=n,j(e,n,!1)||j(e,n,!0);var s=f.call(e.dump),l=r;r=r&&(e.flowLevel<0||e.flowLevel>t);var c,u,p="[object Object]"===s||"[object Array]"===s;if(p&&(u=-1!==(c=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||u||2!==e.indent&&0<t)&&(i=!1),u&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(p&&u&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),"[object Object]"===s)r&&0!==Object.keys(e.dump).length?(function(e,t,n,r){var i,o,a,s,l,c="",u=e.tag,p=Object.keys(n);if(!0===e.sortKeys)p.sort();else if("function"==typeof e.sortKeys)p.sort(e.sortKeys);else if(e.sortKeys)throw new d("sortKeys must be a boolean or a function");for(i=0,o=p.length;i<o;i+=1)l="",r&&""===c||(l+=y(e,t)),a=n[s=p[i]],e.replacer&&(a=e.replacer.call(n,s,a)),F(e,t+1,s,!0,!0,!0)&&((s=null!==e.tag&&"?"!==e.tag||e.dump&&1024<e.dump.length)&&(e.dump&&v===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,s&&(l+=y(e,t)),F(e,t+1,a,!0,s)&&(e.dump&&v===e.dump.charCodeAt(0)?l+=":":l+=": ",c+=l+=e.dump));e.tag=u,e.dump=c||"{}"}(e,t,e.dump,i),u&&(e.dump="&ref_"+c+e.dump)):(function(e,t,n){for(var r,i,o,a="",s=e.tag,l=Object.keys(n),c=0,u=l.length;c<u;c+=1)(o="")!==a&&(o+=", "),e.condenseFlow&&(o+='"'),i=n[r=l[c]],e.replacer&&(i=e.replacer.call(n,r,i)),F(e,t,r,!1,!1)&&(1024<e.dump.length&&(o+="? "),o+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),F(e,t,i,!1,!1)&&(a+=o+=e.dump));e.tag=s,e.dump="{"+a+"}"}(e,t,e.dump),u&&(e.dump="&ref_"+c+" "+e.dump));else if("[object Array]"===s)r&&0!==e.dump.length?(e.noArrayIndent&&!a&&0<t?$(e,t-1,e.dump,i):$(e,t,e.dump,i),u&&(e.dump="&ref_"+c+e.dump)):(function(e,t,n){for(var r,i="",o=e.tag,a=0,s=n.length;a<s;a+=1)r=n[a],e.replacer&&(r=e.replacer.call(n,String(a),r)),(F(e,t,r,!1,!1)||void 0===r&&F(e,t,null,!1,!1))&&(""!==i&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=o,e.dump="["+i+"]"}(e,t,e.dump),u&&(e.dump="&ref_"+c+" "+e.dump));else{if("[object String]"!==s){if("[object Undefined]"===s)return;if(e.skipInvalid)return;throw new d("unacceptable kind of an object to dump "+s)}"?"!==e.tag&&k(e,e.dump,t,o,l)}null!==e.tag&&"?"!==e.tag&&(l=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),l="!"===e.tag[0]?"!"+l:"tag:yaml.org,2002:"===l.slice(0,18)?"!!"+l.slice(18):"!<"+l+">",e.dump=l+" "+e.dump)}return 1}function s(e,t){var n,r,i=[],o=[];for(!function e(t,n,r){var i,o,a;if(null!==t&&"object"==typeof t)if(-1!==(o=n.indexOf(t)))-1===r.indexOf(o)&&r.push(o);else if(n.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)e(t[o],n,r);else for(i=Object.keys(t),o=0,a=i.length;o<a;o+=1)e(t[i[o]],n,r)}(e,i,o),n=0,r=o.length;n<r;n+=1)t.duplicates.push(i[o[n]]);t.usedDuplicates=new Array(r)}t.exports.dump=function(e,t){return(t=new o(t=t||{})).noRefs||s(e,t),t.replacer&&(e=t.replacer.call({"":e},"",e)),F(t,0,e,!0,!0)?t.dump+"\n":""}},{"./common":4,"./exception":6,"./schema/default":10}],6:[function(e,t,n){"use strict";function r(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function i(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=r(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}((i.prototype=Object.create(Error.prototype)).constructor=i).prototype.toString=function(e){return this.name+": "+r(this,e)},t.exports=i},{}],7:[function(e,t,n){"use strict";var g=e("./common"),r=e("./exception"),i=e("./snippet"),o=e("./schema/default"),m=Object.prototype.hasOwnProperty,v=1,b=2,E=3,y=4,N=1,T=2,I=3,l=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=/[\x85\u2028\u2029]/,A=/[,\[\]\{\}]/,S=/^(?:!|!!|![a-z\-]+!)$/i,C=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function p(e){return Object.prototype.toString.call(e)}function O(e){return 10===e||13===e}function M(e){return 9===e||32===e}function x(e){return 9===e||32===e||10===e||13===e}function w(e){return 44===e||91===e||93===e||123===e||125===e}function a(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}for(var u=new Array(256),d=new Array(256),c=0;c<256;c++)u[c]=a(c)?1:0,d[c]=a(c);function f(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||o,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function h(e,t){e={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return e.snippet=i(e),new r(t,e)}function R(e,t){throw h(e,t)}function k(e,t){e.onWarning&&e.onWarning.call(null,h(e,t))}var _={YAML:function(e,t,n){var r,i;null!==e.version&&R(e,"duplication of %YAML directive"),1!==n.length&&R(e,"YAML directive accepts exactly one argument"),null===(i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&R(e,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),i=parseInt(i[2],10),1!==r&&R(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&k(e,"unsupported YAML version of the document")},TAG:function(t,e,n){var r;2!==n.length&&R(t,"TAG directive accepts exactly two arguments"),r=n[0],n=n[1],S.test(r)||R(t,"ill-formed tag handle (first argument) of the TAG directive"),m.call(t.tagMap,r)&&R(t,'there is a previously declared suffix for "'+r+'" tag handle'),C.test(n)||R(t,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch(e){R(t,"tag prefix is malformed: "+n)}t.tagMap[r]=n}};function P(e,t,n,r){var i,o,a,s;if(t<n){if(s=e.input.slice(t,n),r)for(i=0,o=s.length;i<o;i+=1)9===(a=s.charCodeAt(i))||32<=a&&a<=1114111||R(e,"expected valid JSON character");else l.test(s)&&R(e,"the stream contains non-printable characters");e.result+=s}}function L(e,t,n,r){var i,o,a,s;for(g.isObject(n)||R(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,s=(i=Object.keys(n)).length;a<s;a+=1)o=i[a],m.call(t,o)||(t[o]=n[o],r[o]=!0)}function $(e,t,n,r,i,o,a,s,l){var c,u;if(Array.isArray(i))for(c=0,u=(i=Array.prototype.slice.call(i)).length;c<u;c+=1)Array.isArray(i[c])&&R(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===p(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===p(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)L(e,t,o[c],n);else L(e,t,o,n);else e.json||m.call(n,i)||!m.call(t,i)||(e.line=a||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,R(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete n[i];return t}function j(e){var t=e.input.charCodeAt(e.position);10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):R(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function F(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);0!==i;){for(;M(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)for(;10!==(i=e.input.charCodeAt(++e.position))&&13!==i&&0!==i;);if(!O(i))break;for(j(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&k(e,"deficient indentation"),r}function U(e){var t=e.position,n=e.input.charCodeAt(t);return!(45!==n&&46!==n||n!==e.input.charCodeAt(t+1)||n!==e.input.charCodeAt(t+2)||0!==(n=e.input.charCodeAt(t+=3))&&!x(n))}function D(e,t){1===t?e.result+=" ":1<t&&(e.result+=g.repeat("\n",t-1))}function G(e,t){var n,r,i,o,a,s,l,c=e.input.charCodeAt(e.position);if(34===c){for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(c=e.input.charCodeAt(e.position));){if(34===c)return P(e,n,e.position,!0),e.position++,1;if(92===c){if(P(e,n,e.position,!0),O(c=e.input.charCodeAt(++e.position)))F(e,!1,t);else if(c<256&&u[c])e.result+=d[c],e.position++;else if(0<(a=120===(l=c)?2:117===l?4:85===l?8:0)){for(i=a,o=0;0<i;i--)c=e.input.charCodeAt(++e.position),0<=(a=48<=(s=c)&&s<=57?s-48:97<=(s=32|s)&&s<=102?s-97+10:-1)?o=(o<<4)+a:R(e,"expected hexadecimal character");e.result+=(l=o)<=65535?String.fromCharCode(l):String.fromCharCode(55296+(l-65536>>10),56320+(l-65536&1023)),e.position++}else R(e,"unknown escape sequence");n=r=e.position}else O(c)?(P(e,n,r,!0),D(e,F(e,!1,t)),n=r=e.position):e.position===e.lineStart&&U(e)?R(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}R(e,"unexpected end of the stream within a double quoted scalar")}}function H(e,t){var n,r,i=e.tag,o=e.anchor,a=[],s=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,R(e,"tab characters must not be used in indentation")),45===r)&&x(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,F(e,!0,-1)&&e.lineIndent<=t)a.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,B(e,t,E,!1,!0),a.push(e.result),F(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)R(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=a,!0)}function B(e,t,n,r,i){var o,a,s,l,c,u,p,d=1,f=!1,h=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=y===n||E===n,r&&F(e,!0,-1)&&(f=!0,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)),1===d)for(;function(t){var e,n,r,i=!1,o=!1,a=t.input.charCodeAt(t.position);if(33===a){if(null!==t.tag&&R(t,"duplication of a tag property"),60===(a=t.input.charCodeAt(++t.position))?(i=!0,a=t.input.charCodeAt(++t.position)):33===a?(o=!0,n="!!",a=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){for(;0!==(a=t.input.charCodeAt(++t.position))&&62!==a;);t.position<t.length?(r=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):R(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!x(a);)33===a&&(o?R(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),S.test(n)||R(t,"named tag handle cannot contain such characters"),o=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),A.test(r)&&R(t,"tag suffix cannot contain flow indicator characters")}r&&!C.test(r)&&R(t,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(e){R(t,"tag name is malformed: "+r)}return i?t.tag=r:m.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:R(t,'undeclared tag handle "'+n+'"'),1}}(e)||function(e){var t,n=e.input.charCodeAt(e.position);if(38===n){for(null!==e.anchor&&R(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!x(n)&&!w(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&R(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),1}}(e);)F(e,!0,-1)?(f=!0,s=o,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)):s=!1;if(s=s&&(f||i),1!==d&&y!==n||(r=v===n||b===n?t:t+1,i=e.position-e.lineStart,1===d?s&&(H(e,i)||function(e,t,n){var r,i,o,a,s,l,c,u=e.tag,p=e.anchor,d={},f=Object.create(null),h=null,g=null,m=null,E=!1,v=!1;if(-1===e.firstTabInLine){for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),c=e.input.charCodeAt(e.position);0!==c;){if(E||-1===e.firstTabInLine||(e.position=e.firstTabInLine,R(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,63!==c&&58!==c||!x(r)){if(a=e.line,s=e.lineStart,l=e.position,!B(e,n,b,!1,!0))break;if(e.line===o){for(c=e.input.charCodeAt(e.position);M(c);)c=e.input.charCodeAt(++e.position);if(58===c)x(c=e.input.charCodeAt(++e.position))||R(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&($(e,d,f,h,g,null,a,s,l),h=g=m=null),i=E=!(v=!0),h=e.tag,g=e.result;else{if(!v)return e.tag=u,e.anchor=p,1;R(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=u,e.anchor=p,1;R(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(E&&($(e,d,f,h,g,null,a,s,l),h=g=m=null),i=E=v=!0):E?i=!(E=!1):R(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=r;if((e.line===o||e.lineIndent>t)&&(E&&(a=e.line,s=e.lineStart,l=e.position),B(e,t,y,!0,i)&&(E?g=e.result:m=e.result),E||($(e,d,f,h,g,m,a,s,l),h=g=m=null),F(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&0!==c)R(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&$(e,d,f,h,g,null,a,s,l),v&&(e.tag=u,e.anchor=p,e.kind="mapping",e.result=d),v}}(e,i,r))||function(e,t){var n,r,i,o,a,s,l,c,u,p,d,f=!0,h=e.tag,g=e.anchor,m=Object.create(null),E=e.input.charCodeAt(e.position);if(91===E)c=!(a=93),o=[];else{if(123!==E)return;a=125,c=!0,o={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),E=e.input.charCodeAt(++e.position);0!==E;){if(F(e,!0,t),(E=e.input.charCodeAt(e.position))===a)return e.position++,e.tag=h,e.anchor=g,e.kind=c?"mapping":"sequence",e.result=o,1;f?44===E&&R(e,"expected the node content, but found ','"):R(e,"missed comma between flow collection entries"),d=null,s=l=!1,63===E&&x(e.input.charCodeAt(e.position+1))&&(s=l=!0,e.position++,F(e,!0,t)),n=e.line,r=e.lineStart,i=e.position,B(e,t,v,!1,!0),p=e.tag,u=e.result,F(e,!0,t),E=e.input.charCodeAt(e.position),!l&&e.line!==n||58!==E||(s=!0,E=e.input.charCodeAt(++e.position),F(e,!0,t),B(e,t,v,!1,!0),d=e.result),c?$(e,o,m,p,u,d,n,r,i):s?o.push($(e,null,m,p,u,d,n,r,i)):o.push(u),F(e,!0,t),44===(E=e.input.charCodeAt(e.position))?(f=!0,E=e.input.charCodeAt(++e.position)):f=!1}R(e,"unexpected end of the stream within a flow collection")}(e,r)?h=!0:(a&&function(e,t){var n,r,i,o=N,a=!1,s=!1,l=t,c=0,u=!1,p=e.input.charCodeAt(e.position);if(124===p)r=!1;else{if(62!==p)return;r=!0}for(e.kind="scalar",e.result="";0!==p;)if(43===(p=e.input.charCodeAt(++e.position))||45===p)N===o?o=43===p?I:T:R(e,"repeat of a chomping mode identifier");else{if(!(0<=(i=48<=(i=p)&&i<=57?i-48:-1)))break;0==i?R(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?R(e,"repeat of an indentation width identifier"):(l=t+i-1,s=!0)}if(M(p)){for(;M(p=e.input.charCodeAt(++e.position)););if(35===p)for(;!O(p=e.input.charCodeAt(++e.position))&&0!==p;);}for(;0!==p;){for(j(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!s||e.lineIndent<l)&&32===p;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>l&&(l=e.lineIndent),O(p))c++;else{if(e.lineIndent<l){o===I?e.result+=g.repeat("\n",a?1+c:c):o===N&&a&&(e.result+="\n");break}for(r?M(p)?(u=!0,e.result+=g.repeat("\n",a?1+c:c)):u?(u=!1,e.result+=g.repeat("\n",c+1)):0===c?a&&(e.result+=" "):e.result+=g.repeat("\n",c):e.result+=g.repeat("\n",a?1+c:c),s=a=!0,c=0,n=e.position;!O(p)&&0!==p;)p=e.input.charCodeAt(++e.position);P(e,n,e.position,!1)}}return 1}(e,r)||function(e,t){var n,r,i=e.input.charCodeAt(e.position);if(39===i){for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(i=e.input.charCodeAt(e.position));)if(39===i){if(P(e,n,e.position,!0),39!==(i=e.input.charCodeAt(++e.position)))return 1;n=e.position,e.position++,r=e.position}else O(i)?(P(e,n,r,!0),D(e,F(e,!1,t)),n=r=e.position):e.position===e.lineStart&&U(e)?R(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);R(e,"unexpected end of the stream within a single quoted scalar")}}(e,r)||G(e,r)?h=!0:!function(e){var t,n=e.input.charCodeAt(e.position);if(42===n){for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!x(n)&&!w(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&R(e,"name of an alias node must contain at least one character"),t=e.input.slice(t,e.position),m.call(e.anchorMap,t)||R(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],F(e,!0,-1),1}}(e)?function(e,t,n){var r,i,o,a,s,l,c,u=e.kind,p=e.result,d=e.input.charCodeAt(e.position);if(!x(d)&&!w(d)&&35!==d&&38!==d&&42!==d&&33!==d&&124!==d&&62!==d&&39!==d&&34!==d&&37!==d&&64!==d&&96!==d&&(63!==d&&45!==d||!(x(r=e.input.charCodeAt(e.position+1))||n&&w(r)))){for(e.kind="scalar",e.result="",i=o=e.position,a=!1;0!==d;){if(58===d){if(x(r=e.input.charCodeAt(e.position+1))||n&&w(r))break}else if(35===d){if(x(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&U(e)||n&&w(d))break;if(O(d)){if(s=e.line,l=e.lineStart,c=e.lineIndent,F(e,!1,-1),e.lineIndent>=t){a=!0,d=e.input.charCodeAt(e.position);continue}e.position=o,e.line=s,e.lineStart=l,e.lineIndent=c;break}}a&&(P(e,i,o,!1),D(e,e.line-s),i=o=e.position,a=!1),M(d)||(o=e.position+1),d=e.input.charCodeAt(++e.position)}if(P(e,i,o,!1),e.result)return 1;e.kind=u,e.result=p}}(e,r,v===n)&&(h=!0,null===e.tag&&(e.tag="?")):(h=!0,null===e.tag&&null===e.anchor||R(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===d&&(h=s&&H(e,i))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&R(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,c=e.implicitTypes.length;l<c;l+=1)if((p=e.implicitTypes[l]).resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(m.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,l=0,c=(u=e.typeMap.multi[e.kind||"fallback"]).length;l<c;l+=1)if(e.tag.slice(0,u[l].tag.length)===u[l].tag){p=u[l];break}p||R(e,"unknown tag !<"+e.tag+">"),null!==e.result&&p.kind!==e.kind&&R(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):R(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||h}function Y(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new f(e,t),e=e.indexOf("\0");for(-1!==e&&(n.position=e,R(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)!function(e){var t,n,r,i,o=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(F(e,!0,-1),i=e.input.charCodeAt(e.position),!(0<e.lineIndent||37!==i));){for(a=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!x(i);)i=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&R(e,"directive name must not be less than one character in length");0!==i;){for(;M(i);)i=e.input.charCodeAt(++e.position);if(35===i){for(;0!==(i=e.input.charCodeAt(++e.position))&&!O(i););break}if(O(i))break;for(t=e.position;0!==i&&!x(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==i&&j(e),m.call(_,n)?_[n](e,n,r):k(e,'unknown document directive "'+n+'"')}F(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,F(e,!0,-1)):a&&R(e,"directives end mark is expected"),B(e,e.lineIndent-1,y,!1,!0),F(e,!0,-1),e.checkLineBreaks&&s.test(e.input.slice(o,e.position))&&k(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&U(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,F(e,!0,-1)):e.position<e.length-1&&R(e,"end of the stream or a document separator is expected")}(n);return n.documents}t.exports.loadAll=function(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var r=Y(e,n);if("function"!=typeof t)return r;for(var i=0,o=r.length;i<o;i+=1)t(r[i])},t.exports.load=function(e,t){if(0!==(t=Y(e,t)).length){if(1===t.length)return t[0];throw new r("expected a single document in the stream, but found more")}}},{"./common":4,"./exception":6,"./schema/default":10,"./snippet":13}],8:[function(e,t,n){"use strict";var r=e("./exception"),i=e("./type");function o(e,t){var i=[];return e[t].forEach(function(n){var r=i.length;i.forEach(function(e,t){e.tag===n.tag&&e.kind===n.kind&&e.multi===n.multi&&(r=t)}),i[r]=n}),i}function a(e){return this.extend(e)}a.prototype.extend=function(e){var t=[],n=[];if(e instanceof i)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new r("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach(function(e){if(!(e instanceof i))throw new r("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new r("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new r("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(e){if(!(e instanceof i))throw new r("Specified list of YAML types (or a single Type object) contains a non-Type object.")});e=Object.create(a.prototype);return e.implicit=(this.implicit||[]).concat(t),e.explicit=(this.explicit||[]).concat(n),e.compiledImplicit=o(e,"implicit"),e.compiledExplicit=o(e,"explicit"),e.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(e.compiledImplicit,e.compiledExplicit),e},t.exports=a},{"./exception":6,"./type":14}],9:[function(e,t,n){"use strict";t.exports=e("./json")},{"./json":12}],10:[function(e,t,n){"use strict";t.exports=e("./core").extend({implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../type/binary":15,"../type/merge":20,"../type/omap":22,"../type/pairs":23,"../type/set":25,"../type/timestamp":27,"./core":9}],11:[function(e,t,n){"use strict";var r=e("../schema");t.exports=new r({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})},{"../schema":8,"../type/map":19,"../type/seq":24,"../type/str":26}],12:[function(e,t,n){"use strict";t.exports=e("./failsafe").extend({implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../type/bool":16,"../type/float":17,"../type/int":18,"../type/null":21,"./failsafe":11}],13:[function(e,t,n){"use strict";var d=e("./common");function f(e,t,n,r,i){var o="",a="",i=Math.floor(i/2)-1;return i<r-t&&(t=r-i+(o=" ... ").length),i<n-r&&(n=r+i-(a=" ...").length),{str:o+e.slice(t,n).replace(/\t/g,"→")+a,pos:r-t+o.length}}function h(e,t){return d.repeat(" ",t-e.length)+e}t.exports=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,i=[0],o=[],a=-1;n=r.exec(e.buffer);)o.push(n.index),i.push(n.index+n[0].length),e.position<=n.index&&a<0&&(a=i.length-2);a<0&&(a=i.length-1);for(var s,l="",c=Math.min(e.line+t.linesAfter,o.length).toString().length,u=t.maxLength-(t.indent+c+3),p=1;p<=t.linesBefore&&!(a-p<0);p++)s=f(e.buffer,i[a-p],o[a-p],e.position-(i[a]-i[a-p]),u),l=d.repeat(" ",t.indent)+h((e.line-p+1).toString(),c)+" | "+s.str+"\n"+l;for(s=f(e.buffer,i[a],o[a],e.position,u),l+=d.repeat(" ",t.indent)+h((e.line+1).toString(),c)+" | "+s.str+"\n",l+=d.repeat("-",t.indent+c+3+s.pos)+"^\n",p=1;p<=t.linesAfter&&!(a+p>=o.length);p++)s=f(e.buffer,i[a+p],o[a+p],e.position-(i[a]-i[a+p]),u),l+=d.repeat(" ",t.indent)+h((e.line+p+1).toString(),c)+" | "+s.str+"\n";return l.replace(/\n$/,"")}},{"./common":4}],14:[function(e,t,n){"use strict";var i=e("./exception"),o=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],a=["scalar","sequence","mapping"];t.exports=function(t,e){var n,r;if(e=e||{},Object.keys(e).forEach(function(e){if(-1===o.indexOf(e))throw new i('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(e){return e},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=(n=e.styleAliases||null,r={},null!==n&&Object.keys(n).forEach(function(t){n[t].forEach(function(e){r[String(e)]=t})}),r),-1===a.indexOf(this.kind))throw new i('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}},{"./exception":6}],15:[function(e,t,n){"use strict";var e=e("../type"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new e("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;for(var t,n=0,r=e.length,i=s,o=0;o<r;o++)if(!(64<(t=i.indexOf(e.charAt(o))))){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){for(var t=e.replace(/[\r\n=]/g,""),n=t.length,r=s,i=0,o=[],a=0;a<n;a++)a%4==0&&a&&(o.push(i>>16&255),o.push(i>>8&255),o.push(255&i)),i=i<<6|r.indexOf(t.charAt(a));return 0==(e=n%4*6)?(o.push(i>>16&255),o.push(i>>8&255),o.push(255&i)):18==e?(o.push(i>>10&255),o.push(i>>2&255)):12==e&&o.push(i>>4&255),new Uint8Array(o)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){for(var t,n="",r=0,i=e.length,o=s,a=0;a<i;a++)a%3==0&&a&&(n+=o[r>>18&63],n+=o[r>>12&63],n+=o[r>>6&63],n+=o[63&r]),r=(r<<8)+e[a];return 0==(t=i%3)?(n+=o[r>>18&63],n+=o[r>>12&63],n+=o[r>>6&63],n+=o[63&r]):2==t?(n+=o[r>>10&63],n+=o[r>>4&63],n+=o[r<<2&63],n+=o[64]):1==t&&(n+=o[r>>2&63],n+=o[r<<4&63],n+=o[64],n+=o[64]),n}})},{"../type":14}],16:[function(e,t,n){"use strict";e=e("../type");t.exports=new e("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},{"../type":14}],17:[function(e,t,n){"use strict";var r=e("../common"),e=e("../type"),i=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var o=/^[-+]?[0-9]+e/;t.exports=new e("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!i.test(e)||"_"===e[e.length-1])},construct:function(e){var t=e.replace(/_/g,"").toLowerCase(),e="-"===t[0]?-1:1;return".inf"===(t=0<="+-".indexOf(t[0])?t.slice(1):t)?1==e?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:e*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||r.isNegativeZero(e))},represent:function(e,t){if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(e))return"-0.0";return e=e.toString(10),o.test(e)?e.replace("e",".e"):e},defaultStyle:"lowercase"})},{"../common":4,"../type":14}],18:[function(e,t,n){"use strict";var r=e("../common"),e=e("../type");t.exports=new e("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r,i,o=e.length,a=0,s=!1;if(!o)return!1;if("0"===(t="-"===(t=e[a])||"+"===t?e[++a]:t)){if(a+1===o)return!0;if("b"===(t=e[++a])){for(a++;a<o;a++)if("_"!==(t=e[a])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(a++;a<o;a++)if("_"!==(t=e[a])){if(!(48<=(r=e.charCodeAt(a))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;s=!0}return s&&"_"!==t}if("o"===t){for(a++;a<o;a++)if("_"!==(t=e[a])){if(!(48<=(n=e.charCodeAt(a))&&n<=55))return!1;s=!0}return s&&"_"!==t}}if("_"===t)return!1;for(;a<o;a++)if("_"!==(t=e[a])){if(!(48<=(i=e.charCodeAt(a))&&i<=57))return!1;s=!0}return!(!s||"_"===t)},construct:function(e){var t=e,n=1;if("-"!==(e=(t=-1!==t.indexOf("_")?t.replace(/_/g,""):t)[0])&&"+"!==e||("-"===e&&(n=-1),e=(t=t.slice(1))[0]),"0"===t)return 0;if("0"===e){if("b"===t[1])return n*parseInt(t.slice(2),2);if("x"===t[1])return n*parseInt(t.slice(2),16);if("o"===t[1])return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!r.isNegativeZero(e)},represent:{binary:function(e){return 0<=e?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return 0<=e?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return 0<=e?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":4,"../type":14}],19:[function(e,t,n){"use strict";e=e("../type");t.exports=new e("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},{"../type":14}],20:[function(e,t,n){"use strict";e=e("../type");t.exports=new e("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},{"../type":14}],21:[function(e,t,n){"use strict";e=e("../type");t.exports=new e("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})},{"../type":14}],22:[function(e,t,n){"use strict";var e=e("../type"),l=Object.prototype.hasOwnProperty,c=Object.prototype.toString;t.exports=new e("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;for(var t,n,r,i=[],o=e,a=0,s=o.length;a<s;a+=1){if(t=o[a],r=!1,"[object Object]"!==c.call(t))return!1;for(n in t)if(l.call(t,n)){if(r)return!1;r=!0}if(!r)return!1;if(-1!==i.indexOf(n))return!1;i.push(n)}return!0},construct:function(e){return null!==e?e:[]}})},{"../type":14}],23:[function(e,t,n){"use strict";var e=e("../type"),s=Object.prototype.toString;t.exports=new e("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;for(var t,n,r=e,i=new Array(r.length),o=0,a=r.length;o<a;o+=1){if(t=r[o],"[object Object]"!==s.call(t))return!1;if(1!==(n=Object.keys(t)).length)return!1;i[o]=[n[0],t[n[0]]]}return!0},construct:function(e){if(null===e)return[];for(var t,n,r=e,i=new Array(r.length),o=0,a=r.length;o<a;o+=1)t=r[o],n=Object.keys(t),i[o]=[n[0],t[n[0]]];return i}})},{"../type":14}],24:[function(e,t,n){"use strict";e=e("../type");t.exports=new e("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},{"../type":14}],25:[function(e,t,n){"use strict";var e=e("../type"),r=Object.prototype.hasOwnProperty;t.exports=new e("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(r.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},{"../type":14}],26:[function(e,t,n){"use strict";e=e("../type");t.exports=new e("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},{"../type":14}],27:[function(e,t,n){"use strict";var e=e("../type"),c=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),u=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new e("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==c.exec(e)||null!==u.exec(e))},construct:function(e){var t,n,r,i,o,a=0,s=null,l=c.exec(e);if(null===(l=null===l?u.exec(e):l))throw new Error("Date resolve error");if(t=+l[1],n=+l[2]-1,r=+l[3],!l[4])return new Date(Date.UTC(t,n,r));if(i=+l[4],o=+l[5],e=+l[6],l[7]){for(a=l[7].slice(0,3);a.length<3;)a+="0";a=+a}return l[9]&&(s=6e4*(60*+l[10]+ +(l[11]||0)),"-"===l[9]&&(s=-s)),e=new Date(Date.UTC(t,n,r,i,o,e,a)),s&&e.setTime(e.getTime()-s),e},instanceOf:Date,represent:function(e){return e.toISOString()}})},{"../type":14}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ConversionError=n.EvaluationError=n.ParsingError=n.MathParserError=n.TokenIdToOperatorMap=n.TokenMap=n.TokensMap=n.UnaryOperatorFunctionMap=n.OperatorMap=n.TokenId=n.TokenType=n.OperatorId=n.Associativity=n.ErrorTypes=n.ConversionErrorType=n.EvaluationErrorType=n.ParsingErrorType=void 0;var r,i=e=>(e||"").toUpperCase(),o=e("../lib/makeEnum.js"),a=(r=o)&&r.__esModule?r:{default:r},s=e("../constants/Units.js");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n.ParsingErrorType=(0,a.default)({EMPTY:null,MISMATCHED_PARENS:null,SYNTAX_ERROR:null}),f=n.EvaluationErrorType=(0,a.default)({DIVIDE_BY_ZERO:null,EXPECTED_CURRENT_VALUE:null,EXPECTED_MORE_ARGUMENTS:null,IMAGINARY_NUMBER:null,UNEXPECTED_TOKEN:null}),e=n.ConversionErrorType=(0,a.default)({INCOMPATIBLE_MEASURES:null,EXPECTED_PIXELS_OR_INCHES_OR_CENTIMETERS:null,RESOLUTION_LESS_THAN_ONE:null,PIXELS_LESS_THAN_ONE:null}),h=(n.ErrorTypes={ParsingErrorType:d,EvaluationErrorType:f,ConversionErrorType:e},n.Associativity=(0,a.default)({NONE:null,LEFT:null,RIGHT:null})),f=n.OperatorId=(0,a.default)(Object.assign({},{NONE:null,ADD:null,COSINE:null,COSECANT:null,COTANGENT:null,DIVIDE:null,E:null,EXPONENT:null,MULTIPLY:null,PAREN_L:null,PAREN_R:null,PERCENTAGE:null,PI:null,SECANT:null,SINE:null,SUBTRACT:null,TANGENT:null,TAU:null,TIMES:null,UNARY_MINUS:null,UNARY_PLUS:null},s.Unit)),e=(n.TokenType=(0,a.default)({NONE:null,NUMBER:null,OPERATOR:null}),Object.keys(s.UnitMap).map(function(e){return s.UnitMap[e]}).reduce(function(e,t){return t.abbreviation&&(e[i(t.abbreviation)]=null),e},{})),g=n.TokenId=(0,a.default)(Object.assign({},{NONE:null,ASTERISK:null,CARET:null,COS:null,COT:null,CSC:null,E:null,MINUS:null,PAREN_L:null,PAREN_R:null,PERCENT:null,PI:null,PLUS:null,SEC:null,SIN:null,SLASH:null,TAN:null,TAU:null,X:null,PRIME:null,DOUBLE_PRIME:null},e)),e=(p(a={},f.PAREN_L,{associativity:h.NONE,precedence:0,degree:0,name:"("}),p(a,f.PAREN_R,{associativity:h.NONE,precedence:0,degree:0,name:")"}),p(a,f.ADD,{associativity:h.LEFT,precedence:10,degree:2,name:"add"}),p(a,f.SUBTRACT,{associativity:h.LEFT,precedence:10,degree:2,name:"sub"}),p(a,f.DIVIDE,{associativity:h.LEFT,precedence:20,degree:2,name:"div"}),p(a,f.MULTIPLY,{associativity:h.LEFT,precedence:20,degree:2,name:"mul"}),p(a,f.PERCENTAGE,{associativity:h.LEFT,precedence:30,degree:1,name:"%"}),p(a,f.TIMES,{associativity:h.LEFT,precedence:30,degree:1,name:"x"}),p(a,f.COSECANT,{associativity:h.RIGHT,precedence:40,degree:1,name:"csc"}),p(a,f.COSINE,{associativity:h.RIGHT,precedence:40,degree:1,name:"cos"}),p(a,f.COTANGENT,{associativity:h.RIGHT,precedence:40,degree:1,name:"cot"}),p(a,f.SECANT,{associativity:h.RIGHT,precedence:40,degree:1,name:"sec"}),p(a,f.SINE,{associativity:h.RIGHT,precedence:40,degree:1,name:"sin"}),p(a,f.TANGENT,{associativity:h.RIGHT,precedence:40,degree:1,name:"tan"}),p(a,f.EXPONENT,{associativity:h.RIGHT,precedence:90,degree:2,name:"exp"}),p(a,f.UNARY_MINUS,{associativity:h.RIGHT,precedence:100,degree:1,name:"neg"}),p(a,f.UNARY_PLUS,{associativity:h.RIGHT,precedence:100,degree:1,name:"pos"}),p(a,f.E,{associativity:h.LEFT,precedence:200,degree:0,name:"e"}),p(a,f.PI,{associativity:h.LEFT,precedence:200,degree:0,name:"pi"}),p(a,f.TAU,{associativity:h.LEFT,precedence:200,degree:0,name:"tau"}),a),a=Object.keys(s.Unit).reduce(function(e,t){return e[t]={associativity:h.LEFT,precedence:30,degree:1,name:s.UnitMap[t].abbreviation},e},{}),a=(n.OperatorMap=Object.assign({},e,a),n.UnaryOperatorFunctionMap=(p(e={},f.COSECANT,function(e){return 1/Math.sin(e)}),p(e,f.COSINE,Math.cos),p(e,f.COTANGENT,function(e){return 1/Math.tan(e)}),p(e,f.SECANT,function(e){return 1/Math.cos(e)}),p(e,f.SINE,Math.sin),p(e,f.TANGENT,Math.tan),e),n.TokensMap={"'":g.PRIME,'"':g.DOUBLE_PRIME,"%":g.PERCENT,"(":g.PAREN_L,")":g.PAREN_R,"*":g.ASTERISK,"+":g.PLUS,"-":g.MINUS,"/":g.SLASH,"^":g.CARET,cos:g.COS,cot:g.COT,csc:g.CSC,e:g.E,pi:g.PI,sec:g.SEC,sin:g.SIN,tan:g.TAN,tau:g.TAU,x:g.X}),e=Object.keys(s.UnitMap).map(function(e){return s.UnitMap[e]}).reduce(function(e,t){return t.abbreviation&&(e[t.abbreviation]=g[i(t.abbreviation)]),e},{}),f=(n.TokenMap=Object.assign({},a,e),p(e={},g.ASTERISK,f.MULTIPLY),p(e,g.CARET,f.EXPONENT),p(e,g.CSC,f.COSECANT),p(e,g.COS,f.COSINE),p(e,g.COT,f.COTANGENT),p(e,g.DOUBLE_PRIME,f.INCHES),p(e,g.E,f.E),p(e,g.NONE,f.NONE),p(e,g.MINUS,f.SUBTRACT),p(e,g.PAREN_L,f.PAREN_L),p(e,g.PAREN_R,f.PAREN_R),p(e,g.PRIME,f.FEET),p(e,g.PERCENT,f.PERCENTAGE),p(e,g.PI,f.PI),p(e,g.PLUS,f.ADD),p(e,g.SEC,f.SECANT),p(e,g.SIN,f.SINE),p(e,g.SLASH,f.DIVIDE),p(e,g.TAN,f.TANGENT),p(e,g.TAU,f.TAU),p(e,g.X,f.TIMES),e),e=Object.keys(s.Unit).reduce(function(e,t){return e[i(s.UnitMap[t].abbreviation)]=t,e},{}),e=(n.TokenIdToOperatorMap=Object.assign({},f,e),n.MathParserError=(u(m,Error),m));function m(e,t,n,r){l(this,m);var i=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return i.errorType=e,i.filteredExpression=t,i.errorPosition=n,i.errorLength=r,i}n.ParsingError=(u(E,e),E);function E(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return l(this,E),c(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,e,t,n,r))}n.EvaluationError=(u(v,e),v);function v(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return l(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e,t,n,r))}n.ConversionError=(u(b,e),b);function b(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return l(this,b),c(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,e,t,n,r))}},{"../constants/Units.js":29,"../lib/makeEnum.js":32}],29:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.UnitMap=n.MeasureMap=n.Measure=n.System=n.Unit=void 0;var i,o=e("../lib/makeEnum.js"),a=(i=o)&&i.__esModule?i:{default:i};function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n.Unit=(0,a.default)({INCHES:null,FEET:null,YARDS:null,MILES:null,PICOMETERS:null,NANOMETERS:null,MICROMETERS:null,MILLIMETERS:null,CENTIMETERS:null,DECIMETERS:null,METERS:null,DEKAMETERS:null,HECTOMETERS:null,KILOMETERS:null,PIXELS:null,DEGREES:null,RADIANS:null,NONE:null}),c=n.System=(0,a.default)({IMPERIAL:null,METRIC:null,SI:null,NON_SI:null,NONE:null}),u=n.Measure=(0,a.default)({ANGLE:null,LENGTH:null,SCALAR:null,SCREEN:null});n.MeasureMap=(s(r={},u.ANGLE,(s(e={},c.SI,s({},l.RADIANS,1)),s(e,c.NON_SI,s({},l.DEGREES,1)),s(e,"anchors",(s(a={},c.SI,{unit:l.RADIANS,conversion:180/Math.PI}),s(a,c.NON_SI,{unit:l.DEGREES,conversion:Math.PI/180}),a)),e)),s(r,u.LENGTH,(s(a={},c.METRIC,(s(e={},l.PICOMETERS,1e12),s(e,l.NANOMETERS,1/1e-9),s(e,l.MICROMETERS,1e6),s(e,l.MILLIMETERS,.001),s(e,l.CENTIMETERS,.01),s(e,l.DECIMETERS,.1),s(e,l.METERS,1),s(e,l.DEKAMETERS,10),s(e,l.HECTOMETERS,100),s(e,l.KILOMETERS,1e3),e)),s(a,c.IMPERIAL,(s(e={},l.INCHES,1/12),s(e,l.FEET,1),s(e,l.YARDS,3),s(e,l.MILES,5280),e)),s(a,"anchors",(s(e={},c.METRIC,{unit:l.METERS,conversion:3.28084}),s(e,c.IMPERIAL,{unit:l.FEET,conversion:1/3.28084}),e)),a)),s(r,u.SCALAR,(s(a={},c.NONE,s({},l.NONE,1)),s(a,"anchors",s({},c.NONE,{unit:l.NONE,conversion:1})),a)),s(r,u.SCREEN,(s(a={},c.NONE,s({},l.PIXELS,1)),s(a,"anchors",s({},c.NONE,{unit:l.PIXELS,conversion:1})),a)),r),n.UnitMap=(s(n={},l.INCHES,{measure:u.LENGTH,system:c.IMPERIAL,abbreviation:"in",shorthand:'"'}),s(n,l.FEET,{measure:u.LENGTH,system:c.IMPERIAL,abbreviation:"ft",shorthand:"'"}),s(n,l.YARDS,{measure:u.LENGTH,system:c.IMPERIAL,abbreviation:"yd"}),s(n,l.MILES,{measure:u.LENGTH,system:c.IMPERIAL,abbreviation:"mi"}),s(n,l.PICOMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"pm"}),s(n,l.NANOMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"nm"}),s(n,l.MICROMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"um"}),s(n,l.MILLIMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"mm"}),s(n,l.CENTIMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"cm"}),s(n,l.DECIMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"dm"}),s(n,l.METERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"m"}),s(n,l.DEKAMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"dam"}),s(n,l.HECTOMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"hm"}),s(n,l.KILOMETERS,{measure:u.LENGTH,system:c.METRIC,abbreviation:"km"}),s(n,l.PIXELS,{measure:u.SCREEN,system:c.NONE,abbreviation:"px"}),s(n,l.DEGREES,{measure:u.ANGLE,system:c.NON_SI,abbreviation:"deg"}),s(n,l.RADIANS,{measure:u.ANGLE,system:c.SI,abbreviation:"rad"}),s(n,l.NONE,{measure:u.SCALAR,system:c.NONE,abbreviation:void 0}),n)},{"../lib/makeEnum.js":32}],30:[function(e,t,n){"use strict";var r,i=e("./models/MathFilter.js"),o=(r=i)&&r.__esModule?r:{default:r},a=e("./constants/Units.js"),e=e("./constants/MathParser.js");t.exports={MathParser:o.default,Unit:a.Unit,ErrorTypes:e.ErrorTypes}},{"./constants/MathParser.js":28,"./constants/Units.js":29,"./models/MathFilter.js":33}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={get:function(e,t){if(t in e)return e[t];throw new Error("No key named "+t+" in "+e)},has:function(e,t){return t in e}}},{}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.default=function(e){return new Proxy(new l(e),s.default)};var o,a=e("./keyHandler.js"),s=(o=a)&&o.__esModule?o:{default:o};var l=(r(c,[{key:"toString",value:function(t){var n=this,e=Object.keys(this).find(function(e){return n[e]===t});if(void 0===e)throw new Error("Value is not a valid part of this enum");return e}}]),c);function c(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var i={};Object.keys(n).forEach(function(e){var t=n[e];if(void 0!==i[t=null===t?e:t])throw new Error("Duplicate key "+t);if(r.hasOwnProperty(e))throw new Error("Illegal enum name "+e);i[t]=!0,r[e]=t})}},{"./keyHandler.js":31}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=n.useDegrees,i=void 0===r||r,o=n.unit,a=void 0===o?R.Unit.CENTIMETERS:o,s=n.resolution,l=void 0===s?1:s,c=n.delimiters,r=void 0===c?{decimal:".",group:","}:c,o=new RegExp(k,"g"),u=new RegExp(_,"g"),p=new RegExp(P,"g"),d=new RegExp(L,"g"),s=new RegExp($,"g"),n=new RegExp(j,"g");-1<e.search(n)&&t&&(e=""+t+e);c=/(\b\d{1,3}),(?=\d{3}(\D|$))/g;" "===r.group||" "===r.group?c=/(\b\d{1,3})\s(?=\d{3}(\D|$))/g:"."===r.group&&(c=/(\b\d{1,3})\.(?=\d{3}(\D|$))/g);n=/(\b\d+)\.(?=\d+(\D|$))/g;","===r.decimal?n=/(\b\d+),(?=\d+(\D|$))/g:" "===r.decimal&&(n=/(\b\d+)\s(?=\d+(\D|$))/g);var f=e.replace(c,"$1");if(0===(f=(f=f.replace(n,"$1.")).replace(o," ")).length)throw new w.ParsingError(w.ParsingErrorType.EMPTY,f,0,0);f=(f=f.toLowerCase()).replace(s,"deg");var h=[];for(;null!==d.exec(f);)h.push(d.lastIndex);for(var g=0;g<h.length;g++){var m=h[g];f=f.slice(0,m+g)+"+"+f.slice(m+g)}var E=-1,v=void 0;for(;null!==(v=p.exec(f));){if(E===p.lastIndex){var b=p.lastIndex;throw new w.ParsingError(w.ParsingErrorType.SYNTAX_ERROR,f,b,0)}E=p.lastIndex}if(E<0)throw new w.ParsingError(w.ParsingErrorType.SYNTAX_ERROR,f,0,0);if(E!==f.length)throw new w.ParsingError(w.ParsingErrorType.SYNTAX_ERROR,f,E,0);var y=!0,N=[],T=[],I=void 0;for(;null!==(v=u.exec(f));){(I=new x.default(v[0],y)).position=v.index;var A=[w.OperatorId.PAREN_R,w.OperatorId.PERCENTAGE,w.OperatorId.TIMES].concat(function(e){{if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}}(Object.keys(R.Unit).map(function(e){return R.Unit[e]})));switch(y=I.type===w.TokenType.NONE||I.type===w.TokenType.OPERATOR&&-1===A.indexOf(I.op.type),I.type){case w.TokenType.NUMBER:N.push(I.value);break;case w.TokenType.OPERATOR:switch(I.op.type){default:for(;0!==T.length;){var S=T[T.length-1];if(!(I.op.associativity===w.Associativity.LEFT&&I.op.precedence<=S.op.precedence||I.op.associativity===w.Associativity.RIGHT&&I.op.precedence<S.op.precedence))break;try{T[T.length-1].op.eval(N,{useDegrees:i,unit:a,resolution:l},t)}catch(e){throw e.input=f,e.errorPosition=I.position,e.errorLength=I.string.length,e}T.pop()}T.push(I);break;case w.OperatorId.PAREN_L:T.push(I);break;case w.OperatorId.PAREN_R:if(0===T.length)throw new w.ParsingError(w.ParsingErrorType.MISMATCHED_PARENS,f,I.position,I.string.length);for(;0!==T.length;){if(T[T.length-1].op.type===w.OperatorId.PAREN_L){T.pop();break}try{T[T.length-1].op.eval(N,{useDegrees:i,unit:a,resolution:l},t)}catch(e){throw e.input=f,e.errorPosition=I.position,e.errorLength=I.string.length,e}if(T.pop(),0===T.length)throw new w.ParsingError(w.ParsingErrorType.MISMATCHED_PARENS,f,I.position,I.string.length)}}break;case w.TokenType.NONE:throw new w.EvaluationError(w.EvaluationErrorType.UNEXPECTED_TOKEN,f,I.position,I.string.length)}}for(;0!==T.length;){var C=T[T.length-1];if(C.op.type===w.OperatorId.PAREN_L||C.op.type===w.OperatorId.PAREN_L)throw new w.ParsingError(w.ParsingErrorType.MISMATCHED_PARENS,f,C.string.length);try{C.op.eval(N,{useDegrees:i,unit:a,resolution:l},t)}catch(e){throw e.input=f,e.errorPosition=C.position,e.errorLength=C.string.length,e}T.pop()}{if(0===N.length){var O=I?I.position:0,M=(I?I.string:e).length;throw new w.ParsingError(w.ParsingErrorType.EMPTY,f,O,M)}if(1===N.length)return N[N.length-1];O=I?I.position:-1,M=I?I.string.length:-1;throw new w.ParsingError(w.ParsingErrorType.SYNTAX_ERROR,f,O,M)}};var r,i=e("./Token.js"),x=(r=i)&&r.__esModule?r:{default:r},w=e("../constants/MathParser.js"),R=e("../constants/Units.js");var k="(?:\\s+)",n="((?:\\d*[.]?\\d+)(?:e[+\\-]?\\d+)",e=Object.keys(w.TokenMap).reduce(function(e,t,n,r){return e+="(?:",-1<["(",")","\\","^","|","*","+","?",".","$"].indexOf(t)&&(e+="\\"),e+=t+")","("===t&&(e+=")"),n!==r.length-1&&(e+="|"),e},""),_=n+"?|"+e,P=n+"?|"+e+"|"+k,L="(?:([0-9]+)(?:'|ft))(?=(?:(?: +?)?(?:[0-9]+)(?:\"|in)?))",$="°",j="^(\\+|\\+ |\\*|- |\\/|\\^)"},{"../constants/MathParser.js":28,"../constants/Units.js":29,"./Token.js":35}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=e("../constants/MathParser.js"),l=e("../constants/Units.js");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n,r,i){var o;a(this,c),l.UnitMap.hasOwnProperty(e)?(this.unitId=e,o=l.UnitMap[e],this.measure=o.measure,this.system=o.system,this.abbreviation=o.abbreviation,this.shorthand=o.shorthand):(this.unitId=e,this.measure=n,this.system=t,this.abbreviation=r,this.shorthand=i,this.name=name),this.anchorConversionFactor=l.MeasureMap[this.measure][this.system][this.unitId]}r(u,[{key:"eval",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:NaN;if(e.length<this.degree)throw new s.EvaluationError(s.EvaluationErrorType.EXPECTED_MORE_ARGUMENTS);switch(this.type){case s.OperatorId.NONE:case s.OperatorId.PAREN_L:case s.OperatorId.PAREN_R:throw new s.EvaluationError(s.EvaluationErrorType.UNEXPECTED_TOKEN);case s.OperatorId.E:e.push(Math.E);break;case s.OperatorId.PI:e.push(Math.PI);break;case s.OperatorId.TAU:e.push(2*Math.PI);break;case s.OperatorId.INCHES:case s.OperatorId.FEET:case s.OperatorId.YARDS:case s.OperatorId.MILES:case s.OperatorId.PICOMETERS:case s.OperatorId.NANOMETERS:case s.OperatorId.MICROMETERS:case s.OperatorId.MILLIMETERS:case s.OperatorId.CENTIMETERS:case s.OperatorId.DECIMETERS:case s.OperatorId.METERS:case s.OperatorId.DEKAMETERS:case s.OperatorId.HECTOMETERS:case s.OperatorId.KILOMETERS:case s.OperatorId.PIXELS:case s.OperatorId.DEGREES:case s.OperatorId.RADIANS:case s.OperatorId.COSECANT:case s.OperatorId.COSINE:case s.OperatorId.COTANGENT:case s.OperatorId.PERCENTAGE:case s.OperatorId.SECANT:case s.OperatorId.SINE:case s.OperatorId.TANGENT:case s.OperatorId.TIMES:case s.OperatorId.UNARY_MINUS:case s.OperatorId.UNARY_PLUS:var r=e[e.length-1];switch(e.pop(),this.type){default:throw new s.EvaluationError(s.EvaluationErrorType.UNEXPECTED_TOKEN);case s.OperatorId.INCHES:case s.OperatorId.FEET:case s.OperatorId.YARDS:case s.OperatorId.MILES:case s.OperatorId.PICOMETERS:case s.OperatorId.NANOMETERS:case s.OperatorId.MICROMETERS:case s.OperatorId.MILLIMETERS:case s.OperatorId.CENTIMETERS:case s.OperatorId.DECIMETERS:case s.OperatorId.METERS:case s.OperatorId.DEKAMETERS:case s.OperatorId.HECTOMETERS:case s.OperatorId.KILOMETERS:case s.OperatorId.PIXELS:case s.OperatorId.DEGREES:case s.OperatorId.RADIANS:r=this.convert(r,new c(l.Unit[this.type]),new c(t.unit),t.resolution);break;case s.OperatorId.COSECANT:case s.OperatorId.COSINE:case s.OperatorId.COTANGENT:case s.OperatorId.SECANT:case s.OperatorId.SINE:case s.OperatorId.TANGENT:var i=s.UnaryOperatorFunctionMap[this.type],r=t.useDegrees?i(r*Math.PI/180):i(r);break;case s.OperatorId.PERCENTAGE:if(Number.isNaN(n))throw new s.EvaluationError(s.EvaluationErrorType.EXPECTED_CURRENT_VALUE);r=r*n/100;break;case s.OperatorId.TIMES:if(Number.isNaN(n))throw new s.EvaluationError(s.EvaluationErrorType.EXPECTED_CURRENT_VALUE);r*=n;break;case s.OperatorId.UNARY_MINUS:r*=-1;break;case s.OperatorId.UNARY_PLUS:}e.push(r);break;case s.OperatorId.ADD:case s.OperatorId.DIVIDE:case s.OperatorId.EXPONENT:case s.OperatorId.MULTIPLY:case s.OperatorId.SUBTRACT:var o=e.pop(),a=e.pop();switch(this.type){default:throw new s.EvaluationError(s.EvaluationErrorType.UNEXPECTED_TOKEN);case s.OperatorId.ADD:e.push(a+o);break;case s.OperatorId.SUBTRACT:e.push(a-o);break;case s.OperatorId.DIVIDE:if(0===o)throw new s.EvaluationError(s.EvaluationErrorType.DIVIDE_BY_ZERO);e.push(a/o);break;case s.OperatorId.MULTIPLY:e.push(a*o);break;case s.OperatorId.EXPONENT:if(a<0&&0<o%1)throw new s.EvaluationError(s.EvaluationErrorType.IMAGINARY_NUMBER);e.push(Math.pow(a,o))}}}},{key:"round",value:function(e,t){void 0===t&&(t=0);t=Math.pow(10,t);return e=parseFloat((e*t).toFixed(11)),Math.round(e)/t}},{key:"convert",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;if(r<1)throw new s.ConversionError(s.ConversionErrorType.RESOLUTION_LESS_THAN_ONE);if(t===n||t.unitId===n.unitId)return e;if("PIXELS"===n.unitId){if("INCHES"===t.unitId){var i=this.round(e*r,4);if(i<1)throw new s.ConversionError(s.ConversionErrorType.PIXELS_LESS_THAN_ONE);return i}if("CENTIMETERS"!==t.unitId)throw new s.ConversionError(s.ConversionErrorType.EXPECTED_PIXELS_OR_INCHES_OR_CENTIMETERS);i=this.round(e/2.54*r,4);if(i<1)throw new s.ConversionError(s.ConversionErrorType.PIXELS_LESS_THAN_ONE);return i}if("PIXELS"===t.unitId&&("INCHES"===n.unitId||"CENTIMETERS"===n.unitId)){if(e<1)throw new s.ConversionError(s.ConversionErrorType.PIXELS_LESS_THAN_ONE);return"INCHES"===n.unitId?this.round(e/r,4):this.round(2.54*e/r,4)}if(t.measure!==n.measure)throw new s.ConversionError(s.ConversionErrorType.INCOMPATIBLE_MEASURES);return e*=t.anchorConversionFactor,t.system!==n.system&&(e*=l.MeasureMap[t.measure].anchors[t.system].conversion),e/n.anchorConversionFactor}}]),r=u;function u(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.OperatorId.NONE,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.Associativity.NONE,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,i=arguments[3],o=arguments[4];a(this,u),s.OperatorMap.hasOwnProperty(t)?(e=s.OperatorMap[t],this.associativity=e.associativity,this.type=t,this.precedence=e.precedence,this.degree=e.degree,this.name=e.name):(this.associativity=n,this.type=t,this.precedence=r,this.degree=i,this.name=o)}n.default=r},{"../constants/MathParser.js":28,"../constants/Units.js":29}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a=e("../constants/MathParser.js"),s=e("../models/Operator.js"),l=(o=s)&&o.__esModule?o:{default:o};r(c,[{key:"stringToId",value:function(e){return a.TokenMap.hasOwnProperty(e)?a.TokenMap[e]:a.TokenId.NONE}},{key:"idToOperator",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=void 0,n=e===a.TokenId.MINUS&&t?a.OperatorId.UNARY_MINUS:e===a.TokenId.PLUS&&t?a.OperatorId.UNARY_PLUS:a.TokenIdToOperatorMap[e];return new l.default(n)}}]),r=c;function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.string=e,this.id=this.stringToId(e),this.type=this.id===a.TokenId.NONE?a.TokenType.NUMBER:a.TokenType.OPERATOR,this.op=this.idToOperator(this.id,t),this.position=-1,this.value=NaN,this.type===a.TokenType.NUMBER&&(this.value=+this.string)}n.default=r},{"../constants/MathParser.js":28,"../models/Operator.js":34}],36:[function(e,t,n){!function(a){!function(){"use strict";function d(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var n,r="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o!==s-1&&1!==a)if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(2<r.length){var l=r.lastIndexOf("/");if(l!==r.length-1){i=-1===l?(r="",0):(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",o=s,a=i=0;continue}t&&(0<r.length?r+="/..":r="..",i=2)}else 0<r.length?r+="/"+e.slice(o+1,s):r=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var f={resolve:function(){for(var e,t="",n=!1,r=arguments.length-1;-1<=r&&!n;r--){var i=0<=r?arguments[r]:e=void 0===e?a.cwd():e;d(i),0!==i.length&&(t=i+"/"+t,n=47===i.charCodeAt(0))}return t=o(t,!n),n?0<t.length?"/"+t:"/":0<t.length?t:"."},normalize:function(e){if(d(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0<(e=0===(e=o(e,!t)).length&&!t?".":e).length&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return d(e),0<e.length&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];d(n),0<n.length&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":f.normalize(e)},relative:function(e,t){if(d(e),d(t),e===t)return"";if((e=f.resolve(e))===(t=f.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,i=r-n,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var a=t.length-o,s=i<a?i:a,l=-1,c=0;c<=s;++c){if(c===s){if(s<a){if(47===t.charCodeAt(o+c))return t.slice(o+c+1);if(0===c)return t.slice(o+c)}else s<i&&(47===e.charCodeAt(n+c)?l=c:0===c&&(l=0));break}var u=e.charCodeAt(n+c);if(u!==t.charCodeAt(o+c))break;47===u&&(l=c)}for(var p="",c=n+l+1;c<=r;++c)c!==r&&47!==e.charCodeAt(c)||(0===p.length?p+="..":p+="/..");return 0<p.length?p+t.slice(o+l):(47===t.charCodeAt(o+=l)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(d(e),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,r=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!r){n=i;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');d(e);var n=0,r=-1,i=!0;if(void 0!==t&&0<t.length&&t.length<=e.length){if(t.length===e.length&&t===e)return"";for(var o=t.length-1,a=-1,s=e.length-1;0<=s;--s){var l=e.charCodeAt(s);if(47===l){if(!i){n=s+1;break}}else-1===a&&(i=!1,a=s+1),0<=o&&(l===t.charCodeAt(o)?-1==--o&&(r=s):(o=-1,r=a))}return n===r?r=a:-1===r&&(r=e.length),e.slice(n,r)}for(s=e.length-1;0<=s;--s)if(47===e.charCodeAt(s)){if(!i){n=s+1;break}}else-1===r&&(i=!1,r=s+1);return-1===r?"":e.slice(n,r)},extname:function(e){d(e);for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;0<=a;--a){var s=e.charCodeAt(a);if(47===s){if(i)continue;n=a+1;break}-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t="/",r=(n=e).dir||n.root,e=n.base||(n.name||"")+(n.ext||""),r?r===n.root?r+e:r+t+e:e;var t,n,r},parse:function(e){d(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;for(var n,r=47===(n=e.charCodeAt(0)),i=r?(t.root="/",1):0,o=-1,a=0,s=-1,l=!0,c=e.length-1,u=0;i<=c;--c){if(47===(n=e.charCodeAt(c))){if(l)continue;a=c+1;break}-1===s&&(l=!1,s=c+1),46===n?-1===o?o=c:1!==u&&(u=1):-1!==o&&(u=-1)}return-1===o||-1===s||0===u||1===u&&o===s-1&&o===a+1?-1!==s&&(t.base=t.name=0===a&&r?e.slice(1,s):e.slice(a,s)):(0===a&&r?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(a,o),t.base=e.slice(a,s)),t.ext=e.slice(o,s)),0<a?t.dir=e.slice(0,a-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,t.exports=f}.call(this)}.call(this,e("_process"))},{_process:37}],37:[function(e,t,n){var r,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,p=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],38:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=r(e("./parse"));e=r(e("./index"));window.NovaSheets=e.default;const s=(t,e=8)=>{let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e);return Math.abs(n).toString(16).substring(0,e).padStart(e,"0")};function l(e=""){if(e)return{stylesheetContents:[e],sources:["raw"]};let t=[],n=[];var r,i,o,a=Array.from(document.querySelectorAll('link[rel="novasheet" i], link[rel="novasheets" i]')),e=Array.from(document.querySelectorAll('[type="novasheet" i], [type="novasheets" i]'));let s={full:[],rel:[]};for(r of a)s.full.push(r.href),s.rel.push(r.href);for(i in s.full){let e=new XMLHttpRequest;e.open("GET",s.full[i],!1),e.send(),t.push(e.responseText),n.push(s.rel[i])}for(o of e){let e=o instanceof HTMLInputElement&&o.value||o.innerHTML||o.innerText;t.push(e.replace(/^\s*`|`\s*$/,"")),n.push("inline")}return{stylesheetContents:t,sources:n}}window.parseNovaSheets=function(e="",t){if(e)return a.default(e,t);var{stylesheetContents:n,sources:r}=l(e);for(var i in n){const o=a.default(n[i],t);if(document.querySelectorAll(`[data-hash="${s(o)}"]`).length)return;let e=document.createElement("style");e.innerHTML="\n"+o.trim()+"\n",e.dataset.hash=s(o),e.dataset.source=r[i],(document.head||document.body).appendChild(e)}},window.prepare=l},{"./index":41,"./parse":43}],39:[function(i,o,e){!function(n){!function(){"use strict";var e,t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const u=i("fs"),p=t(i("path")),r=void 0!==n&&(null===(e=null==n?void 0:n.versions)||void 0===e?void 0:e.node)&&i("glob"),d=t(i("./parse"));o.exports=async function(e,s,l){const n=async e=>{for(const i of e){const o=/\.\w+/.test(i)?i:i+".nvss";var n=await u.promises.readFile(o,{encoding:"utf8"}).catch(e=>{throw`ReadError: Input file '${o}' not found.\n`+e.message});let t=s.replace(/[/\\]/g,p.default.sep);const a=t.includes(p.default.sep)?t.replace(/[/\\][^/\\]+$/,""):"";a&&await u.promises.mkdir(a,{recursive:!0}).catch(e=>{if(e)throw`MkDirError: Could not create directory '${a}'.\n`+e.message});var r=o.replace(/.+[/\\]([^/\\]+)$/,"$1");t=t||(c?o.replace(/[/\\][^/\\]+$/,p.default.sep):o.replace(/\.\w+$/,".css")),t.endsWith(p.default.sep)?t+=r:c?t+=p.default.sep+r:t.match(/\.\w+$/)||(t+=".css"),t=t.replace(/\.\w+$/,".css"),await u.promises.writeFile(t,d.default(n,l)).catch(e=>{if(e)throw`WriteError: Cannot write to file '${t}'.\n`+e.message;console.log(`<NovaSheets> Wrote file '${o}' to '${t}'`)})}},c=null===r||void 0===r?void 0:r.hasMagic(e);c?null!==r&&void 0!==r&&r(e,{},async(e,t)=>{if(e)throw e;await n(t)}):await n([e])}}.call(this)}.call(this,i("_process"))},{"./parse":43,_process:37,fs:2,glob:void 0,path:36}],40:[function(require,module,exports){"use strict";function addBuiltInFunctions({constants}){const novasheets=new(require("./index")),escapeRegex=e=>e.replace(/[.*+?^/${}()|[\]\\]/g,"\\$&"),strim=e=>e.toString().replace(/^\s*(.+?)\s*$/,"$1").replace(/\s+/g," "),r=String.raw;novasheets.addFunction("@each",(e,t="",n="",i="",...o)=>{var a,o=o.join("|");const[s,l,c,u]=o?[t,n,i,o]:i?[t,n,n,i]:[t,",",",",n],p=strim(s).split(" "===l?l:l.trim());let d=[];for(a in p){var f=strim(u).replace(/\$i/gi,(+a+1).toString()).replace(/\$v\[([0-9]+)([-+*/][0-9]+)?\]/g,(e,t,n)=>p[+t-1+(n||0)]).replace(RegExp(r`${escapeRegex(c)}\s*undefined`,"g"),"").replace(/\$v/gi,p[a]);d.push(f)}return d.join(" "===c?c:c.trim())},{trim:!1}),novasheets.addFunction("@repeat",(e,t,...n)=>{var r=n[1]?n[0]:"";const i=n.slice(n[1]?1:0).join("|");let o="";for(let e=0;e<+t;e++)o+=(0<e?r:"")+i.replace(/\$i/gi,(+e+1).toString());return o},{trim:!1});const number=r`(?:[0-9]*\.?[0-9]+)`,basedNumber=r`(?:0x[0-9a-f]*\.?[0-9a-f]+|0b[01]*\.?[01]+|0o[0-7]*\.?[0-7]+|${number})`,toNum=e=>constants.KEEP_NAN?+e:Number.isNaN(e)?0:parseFloat(e+""),testNaN=(e,t)=>{var n=e===1/0||Number.isNaN(e);return n&&constants.KEEP_NAN?"NaN":n&&!constants.KEEP_NAN?t||0:Math.abs(e)<=1e-7?0:e};novasheets.addFunction("@e",()=>Math.E),novasheets.addFunction("@pi",()=>Math.PI),novasheets.addFunction("@mod",(e,t,n)=>testNaN(toNum(t)%toNum(n),t)),novasheets.addFunction("@sin",(e,t)=>testNaN(Math.sin(toNum(t)),t)),novasheets.addFunction("@asin",(e,t)=>testNaN(Math.asin(toNum(t)),t)),novasheets.addFunction("@cos",(e,t)=>testNaN(Math.cos(toNum(t)),t)),novasheets.addFunction("@acos",(e,t)=>testNaN(Math.acos(toNum(t)),t)),novasheets.addFunction("@tan",(e,t)=>testNaN(Math.tan(toNum(t)),t)),novasheets.addFunction("@atan",(e,t)=>testNaN(Math.atan(toNum(t)),t)),novasheets.addFunction("@abs",(e,t)=>testNaN(Math.abs(toNum(t)),t)),novasheets.addFunction("@floor",(e,t)=>testNaN(Math.floor(toNum(t)),t)),novasheets.addFunction("@ceil",(e,t)=>testNaN(Math.ceil(toNum(t)),t)),novasheets.addFunction("@percent",(e,t)=>testNaN(100*toNum(t),t)+"%"),novasheets.addFunction("@log",(e,t,n)=>testNaN(Math.log(+n)/(t?Math.log(+t):1),n)),novasheets.addFunction("@root",(e,t,n)=>testNaN(Math.pow(toNum(n)?toNum(n):toNum(t),1/(toNum(n)?toNum(t):2)),n)),novasheets.addFunction("@round",(e,t,n)=>{var r=toNum(t)+Number.EPSILON,n=Math.pow(10,toNum(n)||0);return testNaN(Math.round(r*n)/n,t)}),novasheets.addFunction("@min|@max",(e,...t)=>{let n=[];for(var r of t)r&&n.push(+r);e=Math[e.includes("@min")?"min":"max"](...n);return testNaN(e,"0")}),novasheets.addFunction("@clamp",(e,t,n,r)=>{let[i,o,a]=[toNum(t),toNum(n),toNum(r)];a<o&&([o,a]=[a,o]);r=i<=o?o:i>=a?a:i;return testNaN(r,t)}),novasheets.addFunction("@degrees|@radians|@gradians",(e,t)=>{var n=+t.replace(/[a-z]+/,""),r=t.replace(RegExp(number),"");let i=toNum(t);return e.includes("@degrees")?i="grad"===r?.9*n:n/Math.PI*180:e.includes("@radians")?i="grad"===r?n*Math.PI/200:n*Math.PI/180:e.includes("@gradians")&&(i="rad"===r?n/Math.PI*200:n/.9),testNaN(i,t)}),novasheets.addFunction("@lowercase",(e,t)=>t.toLowerCase()),novasheets.addFunction("@uppercase",(e,t)=>t.toUpperCase()),novasheets.addFunction("@titlecase",(e,t)=>t.replace(/\b\w/g,e=>e.toUpperCase())),novasheets.addFunction("@capitali[sz]e",(e,t)=>t[0].toUpperCase()+t.substr(1)),novasheets.addFunction("@uncapitali[sz]e",(e,t)=>t[0].toLowerCase()+t.substr(1)),novasheets.addFunction("@extract",(e,t,n,r)=>t.split(r?n:",")[Number(r||n)-1]||""),novasheets.addFunction("@encode",(e,t)=>encodeURIComponent(t)),novasheets.addFunction("@length",(e,t)=>strim(t).length),novasheets.addFunction("@replace",(e,...t)=>{t=(t=t.length<3?[t[0],t[1]||"",t[2]||""]:t).slice(0,t.indexOf("")<=3?3:t.indexOf(""));let n=strim(t[0]),r=strim(t.slice(1,-1).join("|"));var i=strim(t.slice(-1)[0]),o=r.startsWith("/");let a=RegExp("");return o&&(t=(null===(t=strim(r).match(/\/(.+?)\/([gimusy]*)/))||void 0===t?void 0:t.slice(1))||[],a=RegExp(t[0],t[1]||"s")),n.replace(o?a:RegExp(escapeRegex(r),"g"),i)},{trim:!1});const toPercent=e=>Math.floor(+e/255*100),fromPercent=e=>Math.ceil(255*Number(e.replace("%",""))/100),toHex=e=>Number(e).toString(16).padStart(2,"0"),rgbFromHex=(e,t)=>{var n=parseInt(e.replace(/#?(.{0,8})$/,"$1"),16),r=n>>16&255,e=n>>8&255,n=255&n,t=t?toPercent(parseInt(t,16)):null;return null===t?`rgb(${r}, ${e}, ${n})`:`rgba(${r}, ${e}, ${n}, ${t})`},parseHex=e=>{let t=e.replace("#","");switch(t.length){case 0:return rgbFromHex("000000","00");case 1:return rgbFromHex(t.repeat(6));case 2:return rgbFromHex(t[0].repeat(6),t[1].repeat(2));case 3:return rgbFromHex(t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);case 4:return rgbFromHex(t[0]+t[0]+t[1]+t[1]+t[2]+t[2],t[3]+t[3]);default:return rgbFromHex(t.substr(0,6).padEnd(6,"0"),t.substr(6,2)||void 0)}},getRawColorParts=e=>e.replace(/^\s*\w{3}a?\s*\(\s*|\s*\)$/g,"").split(/,\s*/),getColorParts=t=>{let n=getRawColorParts(t.startsWith("#")?parseHex(t):t);for(var r in n){let e=n[r];n[r]?n[r].includes("%")?(e=e.replace("%",""),t.includes("hsl")?n[r]=Math.round(+e/100*(0==+r?360:100)).toString():n[r]=fromPercent(e).toString()):3==+r&&(n[r]=Math.round(t.includes("rgb")?+e/255:+e/100).toString()):n[r]="0"}return n},hexFromRgb=e=>{var[t,n,r,e]=Array.isArray(e)?e:getColorParts(e);return"#"+toHex(t)+toHex(n)+toHex(r)+(0<toNum(e)?toHex(e):"")},blendColors=(e,t,n)=>{if(!t)return e||"";var r=(null===(u=e.match(/^[a-z]{3}a?|^#/))||void 0===u?void 0:u.toString())||"";let i=n.includes("%")?+n.replace("%","")/100:+n;i=Math.min(Math.abs(i),1);var o=(e,t)=>Math.floor(toNum(e)*(1-i)+toNum(t)*i),[[a,s,l,c],[u,n,e,t]]=[getColorParts(e),getColorParts(t)],[p,d,f,h]=[o(a,u),o(s,n),o(l,e),o(c,t)];switch(r){case"rgba":return`rgba(${p}, ${d}, ${f}, ${h})`;case"rgb":return`rgb(${p}, ${d}, ${f})`;case"hsla":return`hsla(${p%360}, ${d/100}%, ${f/100}%, ${h})`;case"hsl":return`hsla(${p%360}, ${d/100}%, ${f/100}%)`;case"#":return hexFromRgb([p,d,f,h]);default:return`${r}(${p}, ${d}, ${f})`}},blendGrayscaleHsl=(e,t,n,r)=>{if(!t.includes("hsl"))return blendColors(t,n,r||"50%");var[i,o,a,s]=getColorParts(t),n=+r.replace("%",""),r=+a+n*("darken"===e?-1:1),r="desat"===e?`${+o-n}%, ${a}%`:`${o}%, ${r<0?0:r}%`;return`${(null===(t=t.match(/^hsla?/))||void 0===t?void 0:t.toString())||"hsl"}(${+i%360}, ${r}${s?`, ${s}`:""})`};novasheets.addFunction("@colou?r",(e,t,n="0",r="0",i="0",o="")=>{switch(/#|rgba?|hsla?/i.test(n)?(n.includes("#")&&(n=parseHex(n)),/rgba?|hsla?/.test(n)&&([n,r,i,o]=getColorParts(n))):[n,r,i,o]=getColorParts(`${t}(${n}, ${r}, ${i}, ${o})`),t=t.toLowerCase()){case"#":case"hash":case"hex":case"hexadecimal":return"#"+toHex(n)+toHex(r)+toHex(i)+(o?toHex(fromPercent(o)):"");case"rgb":return`rgb(${n}, ${r}, ${i})`;case"rgba":return`rgba(${n}, ${r}, ${i}, ${o||0==+o?100:""}%)`;case"hsl":return`hsl(${toNum(n)%360}, ${r}%, ${i}%)`;case"hsla":return`hsla(${toNum(n)%360}, ${r}%, ${i}%, ${o||0==+o?100:""}%)`;default:return`${t}(${n} ${r} ${i}${o?` / ${o}`:""})`}}),novasheets.addFunction("@colou?rpart",(e,t="",n="")=>{var[r,t]=[t.toLowerCase(),n.toLowerCase()],n=getColorParts(t);return{r:n[0],h:n[0],g:n[1],s:n[1],b:n[2],l:n[2],a:n[3]}[r[0]]||t}),novasheets.addFunction("@spin",(e,t,n)=>{var r=t.replace(/^hsla?\s*\((\d+),\s*.+\s*\)\s*$/g,"$1"),n=((+r+ +n)%360).toString();return t.replace(r,n)}),novasheets.addFunction("@blend",(e,t,n,r)=>blendColors(t,n,r||"50%")),novasheets.addFunction("@tint|@lighten",(e,t,n)=>blendGrayscaleHsl("lighten",t,"#fff",n||"50%")),novasheets.addFunction("@shade|@darken",(e,t,n)=>blendGrayscaleHsl("darken",t,"#000",n||"50%")),novasheets.addFunction("@tone|@desaturate",(e,t,n)=>blendGrayscaleHsl("desat",t,"#808080",n||"50%"));const parseLuma=(e,t)=>{if(!e.startsWith("rgb")&&!e.startsWith("#"))return+e;var[n,r,t]=t?[...t]:getColorParts(e);e=e=>e<=.03928?e/12.92:((e+.055)/1.055)**2.4;return.2126*e(+n/255)+.7152*e(+r/255)+.0722*e(toNum(t)/255)};novasheets.addFunction("@luma",(e,t)=>parseLuma(t)),novasheets.addFunction("@contrast",(e,t,n="",r="")=>{return parseLuma(t)<.5?n:r}),novasheets.addFunction("@gr[ae]yscale",(e,t)=>{if(t.startsWith("hsl"))return t.replace(/^(hsla?)\s*\(\s*(\d+),\s*(\d+)/,"$1($2, 0");var n=Math.round(255*parseLuma(t)),n=`rgb(${Array(3).fill(n).join(", ")})`;return t.startsWith("#")?hexFromRgb(n):n});const bracketedNumber=r`(?:\(\s*${basedNumber}\s*\)|${basedNumber})`,logicRegex=e=>RegExp(r`([+-]?${bracketedNumber})\s*(?:${e})\s*([+-]?${bracketedNumber})`),parseLogic=arg=>{if(!/^([<>=!&|()-\d\s]|true|false|undefined|null|NaN|x?n?or|n?and)+$/.test(arg))return arg;for(let i=0;i<constants.MAX_ARGUMENTS;i++)arg=strim(arg).replace(/(?:'(.+?)'|"(.+?)")+/,"$1$2").replace(/\bor\b/gi,"||").replace(/\band\b/gi,"&&").replace(/\bnot\b/gi,"!").replace(/(.+?)\bnor\b(.+)?/gi,"!($1) && !($2)").replace(/(.+?)\bnand\b(.+)?/gi,"!($1) || !($2)").replace(/(.+?)\bxor\b(.+)?/gi,"($1 && !($2)) || (!($1) && $2)").replace(/(.+?)\bxnor\b(.+)?/gi,"$1 == $2").replace(/(?!=)(!?)=(==)?(?!=)/g,"$1$2==");return/(<|<=|>|>=|==|!=|&|!|\|)/.test(arg)&&(arg=eval("!!"+arg)),["false","undefined","null","NaN",""].includes(arg)&&(arg="false"),arg};return novasheets.addFunction("@bitwise",(e,t)=>{let n=t;for(let e=0;e<constants.MAX_ARGUMENTS;e++)n=n.replace(RegExp(r`(?:~|!|not)\s*([+-]?${bracketedNumber})`),(e,t)=>(~toNum(t)).toString()).replace(logicRegex("or|\\|"),(e,t,n)=>(toNum(t)|toNum(n)).toString()).replace(logicRegex("nor"),(e,t,n)=>(~(toNum(t)|toNum(n))).toString()).replace(logicRegex("and|&"),(e,t,n)=>(toNum(t)&toNum(n)).toString()).replace(logicRegex("nand"),(e,t,n)=>(~toNum(t)&toNum(n)).toString()).replace(logicRegex("xor"),(e,t,n)=>(toNum(t)^toNum(n)).toString()).replace(logicRegex("xnor"),(e,t,n)=>(~toNum(t)^toNum(n)).toString());return n}),novasheets.addFunction("@boolean",(e,...t)=>parseLogic(t.join("|"))),novasheets.addFunction("@if",(e,t,n="",r="")=>parseLogic(t)?n:r),novasheets.addFunction("@breakpoint",(e,t="0",n="",r="",i="")=>{if(!t)return e;var o=(e,t,[n,r])=>{return`${n} @ ${"min"===e?`${t}..`:`..${t}`} { ${r} }`},a=!i,e=a?[["",n],["",r]]:[[n,r],[n,i]];return((a?n:r).trim()?o("max",t,e[0]):"")+((a?r:i).trim()?o("min",t,e[1]):"")},{trim:!1}),novasheets.addFunction("@prefix",(e,t,n)=>`-webkit-${t}: ${n}; -moz-${t}: ${n}; -ms-${t}: ${n}; -o-${t}: ${n}; ${t}: ${n};`),novasheets.getFunctions()}module.exports=addBuiltInFunctions},{"./index":41}],41:[function(e,t,n){"use strict";e=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(e("./novasheets"));t.exports=e.default},{"./novasheets":42}],42:[function(e,t,n){"use strict";var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const s=a(e("./parse")),l=a(e("./compile"));r=new WeakMap,t.exports=class c{constructor(){r.set(this,void 0),i(this,r,[],"f")}static parse(e="",t=new c){return s.default(e,t)}static async compile(e,t="",n=new c){return l.default(e,t,n)}addFunction(e,t,n={}){return o(this,r,"f").push({name:e,body:t,options:n}),this}getFunctions(){return o(this,r,"f")}}},{"./compile":39,"./parse":43}],43:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const F=e("balanced-match"),U=e("math-and-unit-parser")["MathParser"],D=r(e("./index")),G=r(e("./functions")),H=e("./regex");t.exports=function(e,t=new D.default){var n,r;const s=String.raw,l=e=>e.trim().replace(/\s+/g," "),c=e=>e.replace(/[.*+?^/${}()|[\]\\]/g,"\\$&"),o=(e,t,n)=>e.replace(new RegExp(c(t),"g"),n),u=H.regexes.mathChecker().source;var i,p=(t,n,r={})=>{if(!new RegExp(u).test(m)){t=m.match(RegExp(s`\$\(\s*(?:${t})\b`,"i"));if(t){t=m.substr(m.indexOf(t[0]));const i=F("(",")",t).body;t="$("+i+")";let e=i.split("|");!1!==r.trim&&(e=e.map(e=>e.trim())),e[0]=t,m=o(m,t,n(...e))}}},d={OPEN_BRACE:Math.random().toString(36).substr(2),CLOSE_BRACE:Math.random().toString(36).substr(2),SLASH:Math.random().toString(36).substr(2)};let a=e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(H.regexes.singleLineComment("gm"),"").replace(H.regexes.singleLineVarDeclaration("gm"),"$& @endvar").replace(/@(var|const|endvar)/g,"\n$&").replace(H.regexes.singleLineDeclarations("g"),"$&\n").replace(/}}/g,"} }").replace(H.regexes.implicitParentSelector("g"),";$1&@"),f=[],h=[],g=a.split("\n"),m=a.replace(H.regexes.syntacticDeclaration("gms")," ").replace(H.regexes.blockComment("gs"),(e,t)=>e.startsWith("/*[")&&e.endsWith("]*/")?e.replace(/^\/\*\[(.+)\]\*\/$/,"/*$1*/"):e.startsWith("/*/")||e.endsWith("/*/")?e:(f.indexOf(t)<0&&f.push(t),"/*COMMENT#"+f.indexOf(t)+"*/")).replace(H.regexes.staticComment("gs"),(e,t)=>(h.indexOf(t)<0&&h.push(t),"/*STATIC#"+h.indexOf(t)+"*/")),E={},v={BUILTIN_FUNCTIONS:!0,DECIMAL_PLACES:!1,KEEP_UNPARSED:!1,MAX_ARGUMENTS:10};for(i in g)if(g[i].includes("@var")){const M=g[i].replace(/@var/,"").split("="),x=g.slice(+i);let e=x.length;for(var b in x)if(/@endvar|@var/.test(x[b])&&0!=+b){e=+b;break}var y=M[0].trim().split("|")[0].trim(),N=M.slice(1).join("=")||"",T=x.slice(1,e).join("\n"),I=new RegExp(s`\$\(\s*${c(y)}\s*\)`,"g");let t=(N+T).trim().replace(I,E[y]||"");E[y]=t.replace("{",d.OPEN_BRACE).replace("}",d.CLOSE_BRACE)}else if(g[i].includes("@option")){let[e,t]=g[i].replace(/^\s*@option\s+/,"").split(/\s+/);var A=e=>"0"!==e&&"false"!==e;switch(e.toUpperCase()){case"BUILTIN_FUNCTIONS":v.BUILTIN_FUNCTIONS=A(t);break;case"DECIMAL_PLACES":v.DECIMAL_PLACES="false"!==t&&+t;break;case"KEEP_UNPARSED":v.KEEP_UNPARSED=A(t);break;case"MAX_ARGUMENTS":v.MAX_ARGUMENTS=parseInt(t)}}let S="";do{if(S===m)break;S=m,m=m.replace(H.regexes.exponential("gi"),(e,t,n)=>(+t*10**+n).toString()).replace(H.regexes.slashEdgeCaseFunction("g"),"$1"+d.SLASH+"$2").replace(H.regexes.slashEdgeCaseAttribute("g"),"$1"+d.SLASH+"$2").replace(new RegExp(u,"g"),e=>{if(H.regexes.edgeCaseDelimited("g").test(e))return e;let r="";var t=e.replace(/\*\*/g,"^").replace(H.regexes.numberWithUnit("g"),(e,t,n)=>{switch(n){case"mm":case"ms":return r=n[1],(+t/1e3).toString();case"cm":return r="m",(+t/100).toString();case"in":return r="m",(.0254*+t).toString();case"ft":return r="m",(.3048*+t).toString();default:return r=n,t}});try{return U(t)+r}catch{return e}});for(const k in E)p(k,(e,...t)=>{let n=E[k];for(const o in t)if(t[o]){const a=t[o].split("=");var r=a[1]?l(a[0]):(+o+1).toString(),i=a[1]?l(a.slice(1).join("=")):l(a[0]);n=n.replace(new RegExp(s`\$\[${c(r)}[^\]]*\]`,"g"),i)}return n=n.replace(H.regexes.defaultArguments("g"),"$1"),n});let e=[];v.BUILTIN_FUNCTIONS&&e.push(...G.default({constants:v})),e.push(...null!==(n=null==t?void 0:t.getFunctions())&&void 0!==n?n:[]);for(const _ of e)p(_.name,_.body,_.options);let a="";const w=(e,n)=>{if(n||!/^\s*{/.test(e)){const o=(r=e,F("{","}",r));if(o){var r=null!==(r=null===(r=o.body.match(/(?<=})[^{}]+?$/g))||void 0===r?void 0:r[0])&&void 0!==r?r:"";if(r){let e=r;e.trim()&&!/}\s*$/.test(o.body)&&(e+=";"),o.body=o.body.replace(r,"").replace(/[^;]+{/,e+"$&")}let e=o.pre.split(";");e.length&&(o.pre=e.pop(),e.length&&(i=e.join(";")+";",a+=n?`${n} {${i}}`:i));let t="";t=o.pre.includes("@media")?o.pre+n.replace(H.regexes.mediaQuery("g"),""):o.pre.includes("&")?o.pre.replace(/&/g,n):n+" "+o.pre,t=l(t).replace(H.regexes.blockComment("g"),""),/}\s*$/.test(o.body)||(a+=t),n&&!o.pre&&(a+="{}"),w(o.body,t),w(o.post,l(n))}else{var i=e.trim();i&&(a+=n?`{${i}}`:i)}}else a+=e};for(w(m,""),m=a.replace(H.regexes.mediaQueryBlock("gs"),"$1 { $2 }").replace(H.regexes.emptyMediaQueryBlock("g"),"").replace(H.regexes.nonEmptyMediaQueryBlock("g"),"$1 { $2 {$3} }");H.regexes.duplicateMediaQueries("gs").test(m);)m=m.replace(H.regexes.duplicateMediaQueries("gs"),"$1 {$2 $3}");m=o(m,d.OPEN_BRACE,"{"),m=o(m,d.CLOSE_BRACE,"}");const R={};a.replace(/([^{}]+)({.+?})/gms,(e,t,n)=>(t.includes("$(")||t.startsWith("@")||(t=t.replace(/\$(<.+?>){1,2}/g,""),R[l(t)]=n),""));for(const P in R)m=m.replace(new RegExp(s`\$<\s*${c(P)}\s*>`,"g"),null!==(r=R[P])&&void 0!==r?r:"{}");m=m.replace(/\$<.+?>/g,"{}"),m=m.replace(H.regexes.objectNotation("gm"),(e,t,n)=>{for(const r of t.split(";")){const[i,o]=r.trim().split(":");if(i.trim()===n.trim())return null!=o?o:""}return""}),m=m.replace(H.regexes.blockSubstitutions("gm"),(e,t)=>t),m=m.replace(H.regexes.simpleBreakpoint("gms"),(e,t,n,r,i,o,a,s)=>{let[l,c]=[null!=n?n:i,null!=r?r:o],u=null!==(o=a.match(H.regexes.simpleBreakpointValue("g")))&&void 0!==o?o:[];0<u.length&&(o=null!==(o=u[u.length-1].match(H.regexes.simpleBreakpointValue("")))&&void 0!==o?o:[],[,l,c]=o);a=(t+a).replace(H.regexes.simpleBreakpointValue("g"),"");let p=[];return l&&p.push(`(min-width: ${l})`),c&&p.push(`(max-width: ${c.replace(/\d+/,e=>(+e-1).toString())})`),`@media ${p.join(" and ")} { ${a} { ${s} } }`})}while(m.includes("$(")||new RegExp(u).test(m));if(!v.KEEP_UNPARSED){m=m.replace(/@endvar/g,"");for(const L of null!==(e=m.match(H.regexes.unparsedContent("g")))&&void 0!==e?e:[]){m=m.replace(L,"");var C=l(L.replace(H.regexes.variableName(""),"$1")),O=L.includes("$(")?"variable":"argument";console.log(`<NovaSheets> Instances of unparsed ${O} '${C}' have been removed from the output.`)}}m=m.replace(/(?<!^ *) +/gm," ").replace(/\*\/\s*/g,"$&\n").replace(/}\s*/g,"}\n").replace(/}\s*}/g,"} }").replace(/\s*{/g," {").replace(/^([ \t])\1+/gm,"$1").replace(/^([ \t].+)}/gm,"$1\n}").replace(/{\s*(.+\r?\n)([ \t])/g,"{\n$2$1$2").replace(/(\s*;)+/g,";").replace(/(?<![1-9]+)(0\.\d+)\s*(m|s)/,(e,t,n)=>1e3*+t+"m"+n).replace(/(?<=\d)0\s*mm/g,"cm").replace(/(?<=\d)(000\s*mm|00\s*cm)/g,"m").replace(/\.?0{10,}\d/g,"").replace(/((\d)\2{9,})\d/g,"$1").replace(/(\d+)([5-9])\2{10,}\d?(?=\D)/g,(e,t)=>(+t+1).toString()).replace(/\d*\.?\d+e-(?:7|8|9|\d{2,})/,"0").replace(/\d\.\d+/g,e=>!1===v.DECIMAL_PLACES?e:(+e).toFixed(+v.DECIMAL_PLACES)).replace(/calc(\d)/g,"$1").replace(RegExp(d.SLASH,"g"),"/");for(const $ in h)m=m.replace(RegExp(s`\/\*STATIC#${$}\*\/`,"g"),l(h[$]));for(const j in f)m=m.replace(RegExp(s`\/\*COMMENT#${j}\*\/`,"g"),"/*"+f[j]+"*/");return m.trim()+"\n"}},{"./functions":40,"./index":41,"./regex":44,"balanced-match":1,"math-and-unit-parser":30}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.regexes=void 0;const r=e("js-yaml"),i=e=>e.replace(/\{\{(.+?)\}\}/g,(e,t)=>{var n=o[t];if(!n)throw new Error(`YAML variable '${t}' is undefined`);return"(?:"+i(n)+")"});const o=r.load('# General\r\n\r\nopenBracket: \\(\\s*\r\ncloseBracket: \\s*\\)\r\n\r\n# Numbers\r\n\r\nnumber: |\r\n    (?: \\d*\\. )?\\d+\r\n    |\r\n    \\d+\\.\r\n\r\nbasedNumber: |\r\n    -?\r\n    (?:\r\n        0x [0-9a-f]* \\.? [0-9a-f]+\r\n        |\r\n        0b [01]* \\.? [01]+\r\n        |\r\n        0o [0-7]* \\.? [0-7]+\r\n    |\r\n    {{number}}\r\n    )\r\n\r\nnumberUnit: |\r\n    \\s*\r\n    (?:\r\n        em|rem|en|ex|px|pt|pc|ft|in|s|ms|cm|mm|m\r\n    )\r\n    \\b\r\n\r\nnumberWithUnit: |\r\n    ( {{number}} )\r\n    \\s*\r\n    ( {{numberUnit}} )\r\n\r\nnumberValue: |\r\n    (?:\r\n        -? {{basedNumber}}\r\n        (?: {{numberUnit}} )?\r\n    )\r\n\r\nexponential: |\r\n    (?<! [#\\w] )\r\n    ( {{number}} ) # Group 1 used\r\n    \\s* e \\s*\r\n    ( [+-]? {{number}} ) # Group 2 used\r\n\r\noptBracketedNumber: |\r\n    (?:\r\n        {{openBracket}}\r\n        {{numberValue}}\r\n        {{closeBracket}}\r\n        |\r\n        {{numberValue}}\r\n    )\r\n\r\noperators: |\r\n    (?:\r\n        (?: [-^*/+]+ \\s* )+\r\n        (?= \\d | \\. )\r\n    )\r\n\r\nunbracketedMath: |\r\n    (?:\r\n        (?:\r\n            {{optBracketedNumber}} \\s*\r\n            {{operators}} \\s*\r\n        )+\r\n        {{numberValue}}\r\n    )\r\n\r\nmathChecker: |\r\n    {{openBracket}}\r\n    {{unbracketedMath}}\r\n    {{closeBracket}}\r\n    |\r\n    {{unbracketedMath}}\r\n\r\n# Comments\r\n\r\nsingleLineComment: |\r\n    (?<![a-z]:) # Exclude e.g. "http://"\r\n    \\/\\/ # Double slash\r\n    .*$ # Content until end of lint\r\n\r\nblockComment: |\r\n    \\/\\*\r\n    (.*?)\r\n    \\*\\/\r\n\r\nstaticComment: |\r\n    \\/\\*\\/\r\n    (.*?)\r\n    \\/\\*\\/\r\n\r\n# Declarations\r\n\r\nsingleLineVarDeclaration: |\r\n    (?:\r\n        @var\\s # Variable declaration\r\n        .+?\r\n        =\r\n        .*$ # Content goes until end of line\r\n    |\r\n        @var\\s* # Variable declaration\r\n        [^=]* # No equals on line\r\n        (?=\r\n            \\n\\s*\r\n            @var\\s # Variable declaration on next line implicitly ends this one\r\n            .\r\n        )\r\n    )\r\n    (?!\r\n        \\n\\s*\r\n        @endvar # Explcit end\r\n    )\r\n\r\nsingleLineDeclarations: |\r\n    {{parserOption}}\r\n    |\r\n    @endvar\r\n\r\nsyntacticDeclaration: |\r\n    @var\\s\r\n    .*?\r\n    ( (?=@var) | @endvar )\r\n    |\r\n    @endvar\r\n    |\r\n    {{parserOption}}\r\n\r\nparserOption: |\r\n    @option\r\n    \\s*\r\n    [A-Z_]+\r\n    \\s*\r\n    (true|false|[0-9]+)\r\n\r\n# Substitutions\r\n\r\nunparsedContent: |\r\n    \\$\r\n    [\\[(]\r\n    (.+?)\r\n    [\\])]\r\n\r\nvariableName: |\r\n    \\$\r\n    [\\[(]\r\n    (.*?) # Name # Group 1 used\r\n    (\\|.*)? # Arguments\r\n    [\\])]\r\n\r\ndefaultArguments: |\r\n    \\$\\[\r\n    .*?\r\n    (?:\r\n        \\|\r\n        ( [^\\]]* ) # Group 1 used\r\n    )?\r\n    \\]\r\n\r\n# Selectors\r\n\r\nimplicitParentSelector: |\r\n    ;\r\n    (\\s*) # Group 1 used\r\n    @(?!\\w)\r\n\r\n# Object notation\r\n\r\nblock: |\r\n    {\r\n    ( [^{}]*? )\r\n    }\r\n\r\nobjectNotation: |\r\n    {{block}}\r\n    \\s*\r\n    <\r\n    ( [^[\\]]*? )\r\n    >\r\n\r\nblockSubstitutions: |\r\n    {{block}}\r\n    \\s* !\r\n\r\n# Simple breakpoints\r\n\r\nsimpleBreakpointValue: |\r\n    \\s* @ \\s*\r\n    ( \\d+ px )?\r\n    \\s*\r\n    (?: \\.{2,} )?\r\n    \\s*\r\n    ( \\d+ px )?\r\n\r\nsimpleBreakpoint: |\r\n    ( [^{};]*? ) # Group 1: sel\r\n    \\s* @ \\s*\r\n    (?:\r\n        ( \\d+ px ) # Group 2: min1\r\n        \\s*\r\n        (?: \\.{2,} )?\r\n        \\s*\r\n        ( \\d+ px )? # Group 3: max1\r\n    |\r\n        ( \\d+ px )? # Group 4: min2\r\n        \\s*\r\n        (?: \\.{2,} )?\r\n        \\s*\r\n        ( \\d+ px ) # Group 5: max2\r\n    )\r\n    ( [^{}]*? ) # Group 6: rest of selector\r\n    {( .*? )} # Group 7: block content\r\n\r\n# Edge cases\r\n\r\nslashEdgeCaseFunction: |\r\n    (\r\n        (?:rgba?|hsla?)\r\n        \\(\r\n        .+?\r\n        [\\s\\d%]+\r\n    )\r\n    \\/\r\n    ([\\s\\d%]+\\))\r\n\r\nslashEdgeCaseAttribute: |\r\n    (\r\n        (?:grid|font)\r\n        (?:-\\w+)?\r\n        :\r\n        [^;]+?\r\n        \\d\\w*\r\n    )\r\n    \\s*\\/\\s*\r\n    (\\d)\r\n\r\nslashEdgeCases: |\r\n    {{slashEdgeCaseFunction}}\r\n    |\r\n    {{slashEdgeCaseAttribute}}\r\n\r\nedgeCaseDelimited: |\r\n    \\d[a-z]{0,2} # Unit value\r\n    \\s+ # Space\r\n    -\\d # Unspaced negative value\r\n\r\n# Media queries\r\n\r\nmediaQuery: |\r\n    @media\r\n    (?:\r\n        [\\s\\w]+ # Words\r\n        \\([^()]+?\\) # Parentherical values\r\n    )+\r\n\r\nmediaQueryBlock: |\r\n    ( {{mediaQuery}} ) # Group 1 used\r\n    ( # Group 2 used\r\n        [^{}]+\r\n        { .+? } # Block content\r\n    )\r\n\r\nemptyMediaQueryBlock: |\r\n    ( {{mediaQuery}} ) # Group 1 used\r\n    \\s*\r\n    (?:{})? # Empty block\r\n    \\s*\r\n    (?= @media )\r\n\r\nnonEmptyMediaQueryBlock: |\r\n    ( {{mediaQuery}} ) # Group 1 used\r\n    \\s*\r\n    ( [^{}]+ ) # Group 2 used\r\n    {\r\n    ( [^{}]+ ) # Group 3 used\r\n    }\r\n\r\nmediaQueryBody: |\r\n    .*?\r\n    { .*? }\r\n    \\s*\r\n\r\nduplicateMediaQueries: |\r\n    ( {{mediaQuery}} ) # Group 1 used\r\n    \\s*\r\n    { ( {{mediaQueryBody}} ) } # Group 2 used\r\n    \\s* \\1 \\s*\r\n    { ( {{mediaQueryBody}} ) } # Group 3 used\r\n'),a={};for(const s in o){const l=i(o[s]);a[s]=(e="")=>((e,t="")=>RegExp(e.replace(/( |^)#.+$|\s+/gm,""),t))(l,e)}n.regexes=a},{"js-yaml":3}]},{},[38]);
